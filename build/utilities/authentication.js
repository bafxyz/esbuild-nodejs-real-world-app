var d=Object.create,s=Object.defineProperty,c=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty,m=Object.getOwnPropertyNames,g=Object.getOwnPropertyDescriptor,u=e=>s(e,"__esModule",{value:!0}),h=(e,r)=>{u(e);for(var t in r)s(e,t,{get:r[t],enumerable:!0})},T=(e,r,t)=>{if(u(e),r&&typeof r=="object"||typeof r=="function")for(let n of m(r))!f.call(e,n)&&n!=="default"&&s(e,n,{get:()=>r[n],enumerable:!(t=g(r,n))||t.enumerable});return e},l=e=>e&&e.__esModule?e:T(s(e!=null?d(c(e)):{},"default",{value:e,enumerable:!0}),e);h(exports,{authentication:()=>k});var o=l(require("express-jwt")),i=l(require("./secrets"));function a(e){const r=e.headers.authorization;return r!=null?Array.isArray(r)?p(r[0]):p(r):null}function p(e){return e.split(" ")[0]==="Token"?e.split(" ")[1]:null}const y={required:o.default({credentialsRequired:!0,secret:i.JWT_SECRET,getToken:a,userProperty:"payload",algorithms:["HS256"]}),optional:o.default({credentialsRequired:!1,secret:i.JWT_SECRET,getToken:a,userProperty:"payload",algorithms:["HS256"]})},k=y;
