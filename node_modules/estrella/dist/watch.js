var Mi=Object.create,Ye=Object.defineProperty,Wi=Object.getPrototypeOf,Bi=Object.prototype.hasOwnProperty,Gi=Object.getOwnPropertyNames,Ui=Object.getOwnPropertyDescriptor,pr=t=>Ye(t,"__esModule",{value:!0}),v=(t,e)=>()=>(e||(e={exports:{}},t(e.exports,e)),e.exports),dr=(t,e)=>{pr(t);for(var r in e)Ye(t,r,{get:e[r],enumerable:!0})},ji=(t,e,r)=>{if(pr(t),e&&typeof e=="object"||typeof e=="function")for(let s of Gi(e))!Bi.call(t,s)&&s!=="default"&&Ye(t,s,{get:()=>e[s],enumerable:!(r=Ui(e,s))||r.enumerable});return t},$=t=>t&&t.__esModule?t:ji(Ye(t!=null?Mi(Wi(t)):{},"default",{value:t,enumerable:!0}),t),be=v(exports=>{dr(exports,{TYPE:()=>TYPE,clock:()=>clock,expandTildePath:()=>expandTildePath,findInPATH:()=>findInPATH,fmtByteSize:()=>fmtByteSize,fmtDuration:()=>fmtDuration,getModulePackageJSON:()=>getModulePackageJSON,isWindows:()=>isWindows,json:()=>json,jsonparse:()=>jsonparse,jsonparseFile:()=>jsonparseFile,repr:()=>repr,resolveModulePackageFile:()=>resolveModulePackageFile,runtimeRequire:()=>runtimeRequire,tildePath:()=>tildePath,tmpdir:()=>tmpdir});var fs=$(require("fs")),Path=$(require("path")),os=$(require("os")),Er=$(require("perf_hooks")),yr=$(require("util")),json=(t,e,r)=>JSON.stringify(t,r,e),clock=()=>Er.performance.now(),isWindows=process.platform.startsWith("win"),TYPE=Symbol("TYPE"),runtimeRequire=eval("require");function repr(t,e){let r={colors:stdoutStyle.ncolors>0};return typeof e=="object"?r={...e}:e!==void 0&&(r.compact=!e),yr.inspect(t,r)}function resolveModulePackageFile(t){let e=runtimeRequire.resolve(t),r=Path.dirname(Path.resolve(e)),s=Path.sep;for(;r!=s;){let i=Path.join(r,"package.json");if(fs.existsSync(i))return i;r=Path.dirname(r)}throw new Error(`package.json not found for module ${t}`)}function getModulePackageJSON(t){let e=resolveModulePackageFile(t);return jsonparseFile(e)}var _tmpdir="";function tmpdir(){return _tmpdir||(_tmpdir=fs.realpathSync.native(os.tmpdir())),_tmpdir}function fmtDuration(t){return t>=59500?(t/6e4).toFixed(0)+"min":t>=999.5?(t/1e3).toFixed(1)+"s":t.toFixed(2)+"ms"}function fmtByteSize(t){return t>=1024*1e3?(t/(1024*1e3)).toFixed(1)+"MB":t>=1e3?(t/1024).toFixed(1)+"kB":t+"B"}function findInPATH(t){let e=isWindows?4294967295:fs.constants.X_OK,r=new Set((process.env.PATH||"").split(Path.delimiter));for(let s of r){let i=Path.join(Path.resolve(s),t);for(isWindows&&(i+=".cmd");;){try{let n=fs.statSync(i);if(n.isSymbolicLink()){i=fs.realpathSync.native(i);continue}else if(n.isFile()&&n.mode&e)return i}catch(n){if(isWindows&&i.endsWith(".cmd")){i=Path.join(Path.resolve(s),t)+".exe";continue}}break}}return null}function jsonparse(t,e){try{return JSON.parse(json)}catch(r){return require("vm").runInNewContext("("+t+")",{},{filename:e,displayErrors:!0})}}function jsonparseFile(t){let e=fs.readFileSync(t,"utf8");try{return jsonparse(e)}catch(r){throw new Error(`failed to parse ${t}: ${r.message||r}`)}}function expandTildePath(t){let e=os.homedir();return t=="~"?e:t.startsWith("~"+Path.sep)?e+t.substr(1):t}function tildePath(t){let e=Path.resolve(t),r=os.homedir();return e.startsWith(r)?"~"+e.substr(r.length):e}}),ke=v((Ll,Lr)=>{"use strict";var en=require("path"),ce="\\\\/",Or=`[^${ce}]`,he="\\.",tn="\\+",rn="\\?",Qe="\\/",sn="(?=.)",Fr="[^/]",wt=`(?:${Qe}|$)`,Hr=`(?:^|${Qe})`,bt=`${he}{1,2}${wt}`,nn=`(?!${he})`,on=`(?!${Hr}${bt})`,an=`(?!${he}{0,1}${wt})`,ln=`(?!${bt})`,cn=`[^.${Qe}]`,un=`${Fr}*?`,Nr={DOT_LITERAL:he,PLUS_LITERAL:tn,QMARK_LITERAL:rn,SLASH_LITERAL:Qe,ONE_CHAR:sn,QMARK:Fr,END_ANCHOR:wt,DOTS_SLASH:bt,NO_DOT:nn,NO_DOTS:on,NO_DOT_SLASH:an,NO_DOTS_SLASH:ln,QMARK_NO_DOT:cn,STAR:un,START_ANCHOR:Hr},fn={...Nr,SLASH_LITERAL:`[${ce}]`,QMARK:Or,STAR:`${Or}*?`,DOTS_SLASH:`${he}{1,2}(?:[${ce}]|$)`,NO_DOT:`(?!${he})`,NO_DOTS:`(?!(?:^|[${ce}])${he}{1,2}(?:[${ce}]|$))`,NO_DOT_SLASH:`(?!${he}{0,1}(?:[${ce}]|$))`,NO_DOTS_SLASH:`(?!${he}{1,2}(?:[${ce}]|$))`,QMARK_NO_DOT:`[^.${ce}]`,START_ANCHOR:`(?:^|[${ce}])`,END_ANCHOR:`(?:[${ce}]|$)`},hn={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};Lr.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:hn,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:en.sep,extglobChars(t){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(t){return t===!0?fn:Nr}}}),Xe=v(Y=>{"use strict";var pn=require("path"),dn=process.platform==="win32",{REGEX_BACKSLASH:gn,REGEX_REMOVE_BACKSLASH:mn,REGEX_SPECIAL_CHARS:_n,REGEX_SPECIAL_CHARS_GLOBAL:En}=ke();Y.isObject=t=>t!==null&&typeof t=="object"&&!Array.isArray(t);Y.hasRegexChars=t=>_n.test(t);Y.isRegexChar=t=>t.length===1&&Y.hasRegexChars(t);Y.escapeRegex=t=>t.replace(En,"\\$1");Y.toPosixSlashes=t=>t.replace(gn,"/");Y.removeBackslashes=t=>t.replace(mn,e=>e==="\\"?"":e);Y.supportsLookbehinds=()=>{let t=process.version.slice(1).split(".").map(Number);return t.length===3&&t[0]>=9||t[0]===8&&t[1]>=10};Y.isWindows=t=>t&&typeof t.windows=="boolean"?t.windows:dn===!0||pn.sep==="\\";Y.escapeLast=(t,e,r)=>{let s=t.lastIndexOf(e,r);return s===-1?t:t[s-1]==="\\"?Y.escapeLast(t,e,s-1):`${t.slice(0,s)}\\${t.slice(s)}`};Y.removePrefix=(t,e={})=>{let r=t;return r.startsWith("./")&&(r=r.slice(2),e.prefix="./"),r};Y.wrapOutput=(t,e={},r={})=>{let s=r.contains?"":"^",i=r.contains?"":"$",n=`${s}(?:${t})${i}`;return e.negated===!0&&(n=`(?:^(?!${n}).*$)`),n}}),jr=v((Fl,Ir)=>{"use strict";var $r=Xe(),{CHAR_ASTERISK:Rt,CHAR_AT:yn,CHAR_BACKWARD_SLASH:Le,CHAR_COMMA:wn,CHAR_DOT:xt,CHAR_EXCLAMATION_MARK:Dr,CHAR_FORWARD_SLASH:Mr,CHAR_LEFT_CURLY_BRACE:At,CHAR_LEFT_PARENTHESES:St,CHAR_LEFT_SQUARE_BRACKET:bn,CHAR_PLUS:Rn,CHAR_QUESTION_MARK:Wr,CHAR_RIGHT_CURLY_BRACE:xn,CHAR_RIGHT_PARENTHESES:Br,CHAR_RIGHT_SQUARE_BRACKET:An}=ke(),Gr=t=>t===Mr||t===Le,Ur=t=>{t.isPrefix!==!0&&(t.depth=t.isGlobstar?Infinity:1)},Sn=(t,e)=>{let r=e||{},s=t.length-1,i=r.parts===!0||r.scanToEnd===!0,n=[],o=[],a=[],l=t,h=-1,f=0,u=0,c=!1,y=!1,_=!1,w=!1,x=!1,S=!1,O=!1,F=!1,D=!1,ue=0,de,R,C={value:"",depth:0,isGlob:!1},oe=()=>h>=s,q=()=>l.charCodeAt(h+1),g=()=>(de=R,l.charCodeAt(++h));for(;h<s;){R=g();let p;if(R===Le){O=C.backslashes=!0,R=g(),R===At&&(S=!0);continue}if(S===!0||R===At){for(ue++;oe()!==!0&&(R=g());){if(R===Le){O=C.backslashes=!0,g();continue}if(R===At){ue++;continue}if(S!==!0&&R===xt&&(R=g())===xt){if(c=C.isBrace=!0,_=C.isGlob=!0,D=!0,i===!0)continue;break}if(S!==!0&&R===wn){if(c=C.isBrace=!0,_=C.isGlob=!0,D=!0,i===!0)continue;break}if(R===xn&&(ue--,ue===0)){S=!1,c=C.isBrace=!0,D=!0;break}}if(i===!0)continue;break}if(R===Mr){if(n.push(h),o.push(C),C={value:"",depth:0,isGlob:!1},D===!0)continue;if(de===xt&&h===f+1){f+=2;continue}u=h+1;continue}if(r.noext!==!0){let H=R===Rn||R===yn||R===Rt||R===Wr||R===Dr;if(H===!0&&q()===St){if(_=C.isGlob=!0,w=C.isExtglob=!0,D=!0,i===!0){for(;oe()!==!0&&(R=g());){if(R===Le){O=C.backslashes=!0,R=g();continue}if(R===Br){_=C.isGlob=!0,D=!0;break}}continue}break}}if(R===Rt){if(de===Rt&&(x=C.isGlobstar=!0),_=C.isGlob=!0,D=!0,i===!0)continue;break}if(R===Wr){if(_=C.isGlob=!0,D=!0,i===!0)continue;break}if(R===bn)for(;oe()!==!0&&(p=g());){if(p===Le){O=C.backslashes=!0,g();continue}if(p===An){if(y=C.isBracket=!0,_=C.isGlob=!0,D=!0,i===!0)continue;break}}if(r.nonegate!==!0&&R===Dr&&h===f){F=C.negated=!0,f++;continue}if(r.noparen!==!0&&R===St){if(_=C.isGlob=!0,i===!0){for(;oe()!==!0&&(R=g());){if(R===St){O=C.backslashes=!0,R=g();continue}if(R===Br){D=!0;break}}continue}break}if(_===!0){if(D=!0,i===!0)continue;break}}r.noext===!0&&(w=!1,_=!1);let P=l,X="",te="";f>0&&(X=l.slice(0,f),l=l.slice(f),u-=f),P&&_===!0&&u>0?(P=l.slice(0,u),te=l.slice(u)):_===!0?(P="",te=l):P=l,P&&P!==""&&P!=="/"&&P!==l&&(Gr(P.charCodeAt(P.length-1))&&(P=P.slice(0,-1))),r.unescape===!0&&(te&&(te=$r.removeBackslashes(te)),P&&O===!0&&(P=$r.removeBackslashes(P)));let d={prefix:X,input:t,start:f,base:P,glob:te,isBrace:c,isBracket:y,isGlob:_,isExtglob:w,isGlobstar:x,negated:F};if(r.tokens===!0&&(d.maxDepth=0,Gr(R)||o.push(C),d.tokens=o),r.parts===!0||r.tokens===!0){let p;for(let H=0;H<n.length;H++){let M=p?p+1:f,re=n[H],ae=t.slice(M,re);r.tokens&&(H===0&&f!==0?(o[H].isPrefix=!0,o[H].value=X):o[H].value=ae,Ur(o[H]),d.maxDepth+=o[H].depth),(H!==0||ae!=="")&&a.push(ae),p=re}if(p&&p+1<t.length){let H=t.slice(p+1);a.push(H),r.tokens&&(o[o.length-1].value=H,Ur(o[o.length-1]),d.maxDepth+=o[o.length-1].depth)}d.slashes=n,d.parts=a}return d};Ir.exports=Sn}),zr=v((Hl,qr)=>{"use strict";var Ze=ke(),V=Xe(),{MAX_LENGTH:Je,POSIX_REGEX_SOURCE:Cn,REGEX_NON_SPECIAL_CHARS:Tn,REGEX_SPECIAL_CHARS_BACKREF:vn,REPLACEMENTS:Kr}=Ze,Pn=(t,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...t,e);t.sort();let r=`[${t.join("-")}]`;try{new RegExp(r)}catch(s){return t.map(i=>V.escapeRegex(i)).join("..")}return r},Ae=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,Yr=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");t=Kr[t]||t;let r={...e},s=typeof r.maxLength=="number"?Math.min(Je,r.maxLength):Je,i=t.length;if(i>s)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${s}`);let n={type:"bos",value:"",output:r.prepend||""},o=[n],a=r.capture?"":"?:",l=V.isWindows(e),h=Ze.globChars(l),f=Ze.extglobChars(h),{DOT_LITERAL:u,PLUS_LITERAL:c,SLASH_LITERAL:y,ONE_CHAR:_,DOTS_SLASH:w,NO_DOT:x,NO_DOT_SLASH:S,NO_DOTS_SLASH:O,QMARK:F,QMARK_NO_DOT:D,STAR:ue,START_ANCHOR:de}=h,R=E=>`(${a}(?:(?!${de}${E.dot?w:u}).)*?)`,C=r.dot?"":x,oe=r.dot?F:D,q=r.bash===!0?R(r):ue;r.capture&&(q=`(${q})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let g={input:t,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};t=V.removePrefix(t,g),i=t.length;let P=[],X=[],te=[],d=n,p,H=()=>g.index===i-1,M=g.peek=(E=1)=>t[g.index+E],re=g.advance=()=>t[++g.index],ae=()=>t.slice(g.index+1),fe=(E="",L=0)=>{g.consumed+=E,g.index+=L},Ue=E=>{g.output+=E.output!=null?E.output:E.value,fe(E.value)},$i=()=>{let E=1;for(;M()==="!"&&(M(2)!=="("||M(3)==="?");)re(),g.start++,E++;return E%2===0?!1:(g.negated=!0,g.start++,!0)},je=E=>{g[E]++,te.push(E)},ge=E=>{g[E]--,te.pop()},A=E=>{if(d.type==="globstar"){let L=g.braces>0&&(E.type==="comma"||E.type==="brace"),m=E.extglob===!0||P.length&&(E.type==="pipe"||E.type==="paren");E.type!=="slash"&&E.type!=="paren"&&!L&&!m&&(g.output=g.output.slice(0,-d.output.length),d.type="star",d.value="*",d.output=q,g.output+=d.output)}if(P.length&&E.type!=="paren"&&!f[E.value]&&(P[P.length-1].inner+=E.value),(E.value||E.output)&&Ue(E),d&&d.type==="text"&&E.type==="text"){d.value+=E.value,d.output=(d.output||"")+E.value;return}E.prev=d,o.push(E),d=E},qe=(E,L)=>{let m={...f[L],conditions:1,inner:""};m.prev=d,m.parens=g.parens,m.output=g.output;let T=(r.capture?"(":"")+m.open;je("parens"),A({type:E,value:L,output:g.output?"":_}),A({type:"paren",extglob:!0,value:re(),output:T}),P.push(m)},Di=E=>{let L=E.close+(r.capture?")":"");if(E.type==="negate"){let m=q;E.inner&&E.inner.length>1&&E.inner.includes("/")&&(m=R(r)),(m!==q||H()||/^\)+$/.test(ae()))&&(L=E.close=`)$))${m}`),E.prev.type==="bos"&&H()&&(g.negatedExtglob=!0)}A({type:"paren",extglob:!0,value:p,output:L}),ge("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(t)){let E=!1,L=t.replace(vn,(m,T,N,U,W,dt)=>U==="\\"?(E=!0,m):U==="?"?T?T+U+(W?F.repeat(W.length):""):dt===0?oe+(W?F.repeat(W.length):""):F.repeat(N.length):U==="."?u.repeat(N.length):U==="*"?T?T+U+(W?q:""):q:T?m:`\\${m}`);return E===!0&&(r.unescape===!0?L=L.replace(/\\/g,""):L=L.replace(/\\+/g,m=>m.length%2===0?"\\\\":m?"\\":"")),L===t&&r.contains===!0?(g.output=t,g):(g.output=V.wrapOutput(L,g,e),g)}for(;!H();){if(p=re(),p==="\0")continue;if(p==="\\"){let m=M();if(m==="/"&&r.bash!==!0)continue;if(m==="."||m===";")continue;if(!m){p+="\\",A({type:"text",value:p});continue}let T=/^\\+/.exec(ae()),N=0;if(T&&T[0].length>2&&(N=T[0].length,g.index+=N,N%2!==0&&(p+="\\")),r.unescape===!0?p=re()||"":p+=re()||"",g.brackets===0){A({type:"text",value:p});continue}}if(g.brackets>0&&(p!=="]"||d.value==="["||d.value==="[^")){if(r.posix!==!1&&p===":"){let m=d.value.slice(1);if(m.includes("[")&&(d.posix=!0,m.includes(":"))){let T=d.value.lastIndexOf("["),N=d.value.slice(0,T),U=d.value.slice(T+2),W=Cn[U];if(W){d.value=N+W,g.backtrack=!0,re(),!n.output&&o.indexOf(d)===1&&(n.output=_);continue}}}(p==="["&&M()!==":"||p==="-"&&M()==="]")&&(p=`\\${p}`),p==="]"&&(d.value==="["||d.value==="[^")&&(p=`\\${p}`),r.posix===!0&&p==="!"&&d.value==="["&&(p="^"),d.value+=p,Ue({value:p});continue}if(g.quotes===1&&p!=='"'){p=V.escapeRegex(p),d.value+=p,Ue({value:p});continue}if(p==='"'){g.quotes=g.quotes===1?0:1,r.keepQuotes===!0&&A({type:"text",value:p});continue}if(p==="("){je("parens"),A({type:"paren",value:p});continue}if(p===")"){if(g.parens===0&&r.strictBrackets===!0)throw new SyntaxError(Ae("opening","("));let m=P[P.length-1];if(m&&g.parens===m.parens+1){Di(P.pop());continue}A({type:"paren",value:p,output:g.parens?")":"\\)"}),ge("parens");continue}if(p==="["){if(r.nobracket===!0||!ae().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(Ae("closing","]"));p=`\\${p}`}else je("brackets");A({type:"bracket",value:p});continue}if(p==="]"){if(r.nobracket===!0||d&&d.type==="bracket"&&d.value.length===1){A({type:"text",value:p,output:`\\${p}`});continue}if(g.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(Ae("opening","["));A({type:"text",value:p,output:`\\${p}`});continue}ge("brackets");let m=d.value.slice(1);if(d.posix!==!0&&m[0]==="^"&&!m.includes("/")&&(p=`/${p}`),d.value+=p,Ue({value:p}),r.literalBrackets===!1||V.hasRegexChars(m))continue;let T=V.escapeRegex(d.value);if(g.output=g.output.slice(0,-d.value.length),r.literalBrackets===!0){g.output+=T,d.value=T;continue}d.value=`(${a}${T}|${d.value})`,g.output+=d.value;continue}if(p==="{"&&r.nobrace!==!0){je("braces");let m={type:"brace",value:p,output:"(",outputIndex:g.output.length,tokensIndex:g.tokens.length};X.push(m),A(m);continue}if(p==="}"){let m=X[X.length-1];if(r.nobrace===!0||!m){A({type:"text",value:p,output:p});continue}let T=")";if(m.dots===!0){let N=o.slice(),U=[];for(let W=N.length-1;W>=0&&!(o.pop(),N[W].type==="brace");W--)N[W].type!=="dots"&&U.unshift(N[W].value);T=Pn(U,r),g.backtrack=!0}if(m.comma!==!0&&m.dots!==!0){let N=g.output.slice(0,m.outputIndex),U=g.tokens.slice(m.tokensIndex);m.value=m.output="\\{",p=T="\\}",g.output=N;for(let W of U)g.output+=W.output||W.value}A({type:"brace",value:p,output:T}),ge("braces"),X.pop();continue}if(p==="|"){P.length>0&&P[P.length-1].conditions++,A({type:"text",value:p});continue}if(p===","){let m=p,T=X[X.length-1];T&&te[te.length-1]==="braces"&&(T.comma=!0,m="|"),A({type:"comma",value:p,output:m});continue}if(p==="/"){if(d.type==="dot"&&g.index===g.start+1){g.start=g.index+1,g.consumed="",g.output="",o.pop(),d=n;continue}A({type:"slash",value:p,output:y});continue}if(p==="."){if(g.braces>0&&d.type==="dot"){d.value==="."&&(d.output=u);let m=X[X.length-1];d.type="dots",d.output+=p,d.value+=p,m.dots=!0;continue}if(g.braces+g.parens===0&&d.type!=="bos"&&d.type!=="slash"){A({type:"text",value:p,output:u});continue}A({type:"dot",value:p,output:u});continue}if(p==="?"){let m=d&&d.value==="(";if(!m&&r.noextglob!==!0&&M()==="("&&M(2)!=="?"){qe("qmark",p);continue}if(d&&d.type==="paren"){let T=M(),N=p;if(T==="<"&&!V.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(d.value==="("&&!/[!=<:]/.test(T)||T==="<"&&!/<([!=]|\w+>)/.test(ae()))&&(N=`\\${p}`),A({type:"text",value:p,output:N});continue}if(r.dot!==!0&&(d.type==="slash"||d.type==="bos")){A({type:"qmark",value:p,output:D});continue}A({type:"qmark",value:p,output:F});continue}if(p==="!"){if(r.noextglob!==!0&&M()==="("&&(M(2)!=="?"||!/[!=<:]/.test(M(3)))){qe("negate",p);continue}if(r.nonegate!==!0&&g.index===0){$i();continue}}if(p==="+"){if(r.noextglob!==!0&&M()==="("&&M(2)!=="?"){qe("plus",p);continue}if(d&&d.value==="("||r.regex===!1){A({type:"plus",value:p,output:c});continue}if(d&&(d.type==="bracket"||d.type==="paren"||d.type==="brace")||g.parens>0){A({type:"plus",value:p});continue}A({type:"plus",value:c});continue}if(p==="@"){if(r.noextglob!==!0&&M()==="("&&M(2)!=="?"){A({type:"at",extglob:!0,value:p,output:""});continue}A({type:"text",value:p});continue}if(p!=="*"){(p==="$"||p==="^")&&(p=`\\${p}`);let m=Tn.exec(ae());m&&(p+=m[0],g.index+=m[0].length),A({type:"text",value:p});continue}if(d&&(d.type==="globstar"||d.star===!0)){d.type="star",d.star=!0,d.value+=p,d.output=q,g.backtrack=!0,g.globstar=!0,fe(p);continue}let E=ae();if(r.noextglob!==!0&&/^\([^?]/.test(E)){qe("star",p);continue}if(d.type==="star"){if(r.noglobstar===!0){fe(p);continue}let m=d.prev,T=m.prev,N=m.type==="slash"||m.type==="bos",U=T&&(T.type==="star"||T.type==="globstar");if(r.bash===!0&&(!N||E[0]&&E[0]!=="/")){A({type:"star",value:p,output:""});continue}let W=g.braces>0&&(m.type==="comma"||m.type==="brace"),dt=P.length&&(m.type==="pipe"||m.type==="paren");if(!N&&m.type!=="paren"&&!W&&!dt){A({type:"star",value:p,output:""});continue}for(;E.slice(0,3)==="/**";){let Ke=t[g.index+4];if(Ke&&Ke!=="/")break;E=E.slice(3),fe("/**",3)}if(m.type==="bos"&&H()){d.type="globstar",d.value+=p,d.output=R(r),g.output=d.output,g.globstar=!0,fe(p);continue}if(m.type==="slash"&&m.prev.type!=="bos"&&!U&&H()){g.output=g.output.slice(0,-(m.output+d.output).length),m.output=`(?:${m.output}`,d.type="globstar",d.output=R(r)+(r.strictSlashes?")":"|$)"),d.value+=p,g.globstar=!0,g.output+=m.output+d.output,fe(p);continue}if(m.type==="slash"&&m.prev.type!=="bos"&&E[0]==="/"){let Ke=E[1]!==void 0?"|$":"";g.output=g.output.slice(0,-(m.output+d.output).length),m.output=`(?:${m.output}`,d.type="globstar",d.output=`${R(r)}${y}|${y}${Ke})`,d.value+=p,g.output+=m.output+d.output,g.globstar=!0,fe(p+re()),A({type:"slash",value:"/",output:""});continue}if(m.type==="bos"&&E[0]==="/"){d.type="globstar",d.value+=p,d.output=`(?:^|${y}|${R(r)}${y})`,g.output=d.output,g.globstar=!0,fe(p+re()),A({type:"slash",value:"/",output:""});continue}g.output=g.output.slice(0,-d.output.length),d.type="globstar",d.output=R(r),d.value+=p,g.output+=d.output,g.globstar=!0,fe(p);continue}let L={type:"star",value:p,output:q};if(r.bash===!0){L.output=".*?",(d.type==="bos"||d.type==="slash")&&(L.output=C+L.output),A(L);continue}if(d&&(d.type==="bracket"||d.type==="paren")&&r.regex===!0){L.output=p,A(L);continue}(g.index===g.start||d.type==="slash"||d.type==="dot")&&(d.type==="dot"?(g.output+=S,d.output+=S):r.dot===!0?(g.output+=O,d.output+=O):(g.output+=C,d.output+=C),M()!=="*"&&(g.output+=_,d.output+=_)),A(L)}for(;g.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(Ae("closing","]"));g.output=V.escapeLast(g.output,"["),ge("brackets")}for(;g.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(Ae("closing",")"));g.output=V.escapeLast(g.output,"("),ge("parens")}for(;g.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(Ae("closing","}"));g.output=V.escapeLast(g.output,"{"),ge("braces")}if(r.strictSlashes!==!0&&(d.type==="star"||d.type==="bracket")&&A({type:"maybe_slash",value:"",output:`${y}?`}),g.backtrack===!0){g.output="";for(let E of g.tokens)g.output+=E.output!=null?E.output:E.value,E.suffix&&(g.output+=E.suffix)}return g};Yr.fastpaths=(t,e)=>{let r={...e},s=typeof r.maxLength=="number"?Math.min(Je,r.maxLength):Je,i=t.length;if(i>s)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${s}`);t=Kr[t]||t;let n=V.isWindows(e),{DOT_LITERAL:o,SLASH_LITERAL:a,ONE_CHAR:l,DOTS_SLASH:h,NO_DOT:f,NO_DOTS:u,NO_DOTS_SLASH:c,STAR:y,START_ANCHOR:_}=Ze.globChars(n),w=r.dot?u:f,x=r.dot?c:f,S=r.capture?"":"?:",O={negated:!1,prefix:""},F=r.bash===!0?".*?":y;r.capture&&(F=`(${F})`);let D=C=>C.noglobstar===!0?F:`(${S}(?:(?!${_}${C.dot?h:o}).)*?)`,ue=C=>{switch(C){case"*":return`${w}${l}${F}`;case".*":return`${o}${l}${F}`;case"*.*":return`${w}${F}${o}${l}${F}`;case"*/*":return`${w}${F}${a}${l}${x}${F}`;case"**":return w+D(r);case"**/*":return`(?:${w}${D(r)}${a})?${x}${l}${F}`;case"**/*.*":return`(?:${w}${D(r)}${a})?${x}${F}${o}${l}${F}`;case"**/.*":return`(?:${w}${D(r)}${a})?${o}${l}${F}`;default:{let oe=/^(.*?)\.(\w+)$/.exec(C);if(!oe)return;let q=ue(oe[1]);return q?q+o+oe[2]:void 0}}},de=V.removePrefix(t,O),R=ue(de);return R&&r.strictSlashes!==!0&&(R+=`${a}?`),R};qr.exports=Yr}),Qr=v((Nl,Vr)=>{"use strict";var kn=require("path"),Ln=jr(),Ct=zr(),Tt=Xe(),On=ke(),Fn=t=>t&&typeof t=="object"&&!Array.isArray(t),I=(t,e,r=!1)=>{if(Array.isArray(t)){let f=t.map(c=>I(c,e,r)),u=c=>{for(let y of f){let _=y(c);if(_)return _}return!1};return u}let s=Fn(t)&&t.tokens&&t.input;if(t===""||typeof t!="string"&&!s)throw new TypeError("Expected pattern to be a non-empty string");let i=e||{},n=Tt.isWindows(e),o=s?I.compileRe(t,e):I.makeRe(t,e,!1,!0),a=o.state;delete o.state;let l=()=>!1;if(i.ignore){let f={...e,ignore:null,onMatch:null,onResult:null};l=I(i.ignore,f,r)}let h=(f,u=!1)=>{let{isMatch:c,match:y,output:_}=I.test(f,o,e,{glob:t,posix:n}),w={glob:t,state:a,regex:o,posix:n,input:f,output:_,match:y,isMatch:c};return typeof i.onResult=="function"&&i.onResult(w),c===!1?(w.isMatch=!1,u?w:!1):l(f)?(typeof i.onIgnore=="function"&&i.onIgnore(w),w.isMatch=!1,u?w:!1):(typeof i.onMatch=="function"&&i.onMatch(w),u?w:!0)};return r&&(h.state=a),h};I.test=(t,e,r,{glob:s,posix:i}={})=>{if(typeof t!="string")throw new TypeError("Expected input to be a string");if(t==="")return{isMatch:!1,output:""};let n=r||{},o=n.format||(i?Tt.toPosixSlashes:null),a=t===s,l=a&&o?o(t):t;return a===!1&&(l=o?o(t):t,a=l===s),(a===!1||n.capture===!0)&&(n.matchBase===!0||n.basename===!0?a=I.matchBase(t,e,r,i):a=e.exec(l)),{isMatch:Boolean(a),match:a,output:l}};I.matchBase=(t,e,r,s=Tt.isWindows(r))=>{let i=e instanceof RegExp?e:I.makeRe(e,r);return i.test(kn.basename(t))};I.isMatch=(t,e,r)=>I(e,r)(t);I.parse=(t,e)=>Array.isArray(t)?t.map(r=>I.parse(r,e)):Ct(t,{...e,fastpaths:!1});I.scan=(t,e)=>Ln(t,e);I.compileRe=(t,e,r=!1,s=!1)=>{if(r===!0)return t.output;let i=e||{},n=i.contains?"":"^",o=i.contains?"":"$",a=`${n}(?:${t.output})${o}`;t&&t.negated===!0&&(a=`^(?!${a}).*$`);let l=I.toRegex(a,e);return s===!0&&(l.state=t),l};I.makeRe=(t,e,r=!1,s=!1)=>{if(!t||typeof t!="string")throw new TypeError("Expected a non-empty string");let i=e||{},n={negated:!1,fastpaths:!0},o="",a;return t.startsWith("./")&&(t=t.slice(2),o=n.prefix="./"),i.fastpaths!==!1&&(t[0]==="."||t[0]==="*")&&(a=Ct.fastpaths(t,e)),a===void 0?(n=Ct(t,e),n.prefix=o+(n.prefix||"")):n.output=a,I.compileRe(n,e,r,s)};I.toRegex=(t,e)=>{try{let r=e||{};return new RegExp(t,r.flags||(r.nocase?"i":""))}catch(r){if(e&&e.debug===!0)throw r;return/$^/}};I.constants=On;Vr.exports=I}),vt=v((Il,Xr)=>{"use strict";Xr.exports=Qr()}),is=v(($l,Zr)=>{"use strict";var Oe=require("fs"),{Readable:Hn}=require("stream"),Fe=require("path"),{promisify:et}=require("util"),Pt=vt(),Nn=et(Oe.readdir),Jr=et(Oe.stat),es=et(Oe.lstat),In=et(Oe.realpath),$n="!",Dn=new Set(["ENOENT","EPERM","EACCES","ELOOP"]),kt="files",ts="directories",tt="files_directories",rt="all",rs=[kt,ts,tt,rt],Mn=t=>Dn.has(t.code),ss=t=>{if(t===void 0)return;if(typeof t=="function")return t;if(typeof t=="string"){let e=Pt(t.trim());return r=>e(r.basename)}if(Array.isArray(t)){let e=[],r=[];for(let s of t){let i=s.trim();i.charAt(0)===$n?r.push(Pt(i.slice(1))):e.push(Pt(i))}return r.length>0?e.length>0?s=>e.some(i=>i(s.basename))&&!r.some(i=>i(s.basename)):s=>!r.some(i=>i(s.basename)):s=>e.some(i=>i(s.basename))}},He=class extends Hn{static get defaultOptions(){return{root:".",fileFilter:e=>!0,directoryFilter:e=>!0,type:kt,lstat:!1,depth:2147483648,alwaysStat:!1}}constructor(e={}){super({objectMode:!0,autoDestroy:!0,highWaterMark:e.highWaterMark||4096});let r={...He.defaultOptions,...e},{root:s,type:i}=r;this._fileFilter=ss(r.fileFilter),this._directoryFilter=ss(r.directoryFilter);let n=r.lstat?es:Jr;process.platform==="win32"&&Jr.length===3?this._stat=o=>n(o,{bigint:!0}):this._stat=n,this._maxDepth=r.depth,this._wantsDir=[ts,tt,rt].includes(i),this._wantsFile=[kt,tt,rt].includes(i),this._wantsEverything=i===rt,this._root=Fe.resolve(s),this._isDirent="Dirent"in Oe&&!r.alwaysStat,this._statsProp=this._isDirent?"dirent":"stats",this._rdOptions={encoding:"utf8",withFileTypes:this._isDirent},this.parents=[this._exploreDir(s,1)],this.reading=!1,this.parent=void 0}async _read(e){if(this.reading)return;this.reading=!0;try{for(;!this.destroyed&&e>0;){let{path:r,depth:s,files:i=[]}=this.parent||{};if(i.length>0){let n=i.splice(0,e).map(o=>this._formatEntry(o,r));for(let o of await Promise.all(n)){if(this.destroyed)return;let a=await this._getEntryType(o);a==="directory"&&this._directoryFilter(o)?(s<=this._maxDepth&&this.parents.push(this._exploreDir(o.fullPath,s+1)),this._wantsDir&&(this.push(o),e--)):(a==="file"||this._includeAsFile(o))&&this._fileFilter(o)&&(this._wantsFile&&(this.push(o),e--))}}else{let n=this.parents.pop();if(!n){this.push(null);break}if(this.parent=await n,this.destroyed)return}}}catch(r){this.destroy(r)}finally{this.reading=!1}}async _exploreDir(e,r){let s;try{s=await Nn(e,this._rdOptions)}catch(i){this._onError(i)}return{files:s,depth:r,path:e}}async _formatEntry(e,r){let s;try{let i=this._isDirent?e.name:e,n=Fe.resolve(Fe.join(r,i));s={path:Fe.relative(this._root,n),fullPath:n,basename:i},s[this._statsProp]=this._isDirent?e:await this._stat(n)}catch(i){this._onError(i)}return s}_onError(e){Mn(e)&&!this.destroyed?this.emit("warn",e):this.destroy(e)}async _getEntryType(e){let r=e&&e[this._statsProp];if(!r)return;if(r.isFile())return"file";if(r.isDirectory())return"directory";if(r&&r.isSymbolicLink()){let s=e.fullPath;try{let i=await In(s),n=await es(i);if(n.isFile())return"file";if(n.isDirectory()){let o=i.length;return s.startsWith(i)&&s.substr(o,1)===Fe.sep?this._onError(new Error(`Circular symlink detected: "${s}" points to "${i}"`)):"directory"}}catch(i){this._onError(i)}}}_includeAsFile(e){let r=e&&e[this._statsProp];return r&&this._wantsEverything&&!r.isDirectory()}},Se=(t,e={})=>{let r=e.entryType||e.type;if(r==="both"&&(r=tt),r&&(e.type=r),t){if(typeof t!="string")throw new TypeError("readdirp: root argument must be a string. Usage: readdirp(root, options)");if(r&&!rs.includes(r))throw new Error(`readdirp: Invalid type passed. Use one of ${rs.join(", ")}`)}else throw new Error("readdirp: root argument is required. Usage: readdirp(root, options)");return e.root=t,new He(e)},Wn=(t,e={})=>new Promise((r,s)=>{let i=[];Se(t,e).on("data",n=>i.push(n)).on("end",()=>r(i)).on("error",n=>s(n))});Se.promise=Wn;Se.ReaddirpStream=He;Se.default=Se;Zr.exports=Se}),Lt=v((Dl,ns)=>{ns.exports=function(t,e){if(typeof t!="string")throw new TypeError("expected path to be a string");if(t==="\\"||t==="/")return"/";var r=t.length;if(r<=1)return t;var s="";if(r>4&&t[3]==="\\"){var i=t[2];(i==="?"||i===".")&&t.slice(0,2)==="\\\\"&&(t=t.slice(2),s="//")}var n=t.split(/[/\\]+/);return e!==!1&&n[n.length-1]===""&&n.pop(),s+n.join("/")}}),hs=v((as,ls)=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});var cs=vt(),Bn=Lt(),Gn="!",Un={returnIndex:!1},jn=t=>Array.isArray(t)?t:[t],qn=(t,e)=>{if(typeof t=="function")return t;if(typeof t=="string"){let r=cs(t,e);return s=>t===s||r(s)}return t instanceof RegExp?r=>t.test(r):r=>!1},us=(t,e,r,s)=>{let i=Array.isArray(r),n=i?r[0]:r;if(!i&&typeof n!="string")throw new TypeError("anymatch: second argument must be a string: got "+Object.prototype.toString.call(n));let o=Bn(n);for(let l=0;l<e.length;l++){let h=e[l];if(h(o))return s?-1:!1}let a=i&&[o].concat(r.slice(1));for(let l=0;l<t.length;l++){let h=t[l];if(i?h(...a):h(o))return s?l:!0}return s?-1:!1},Ot=(t,e,r=Un)=>{if(t==null)throw new TypeError("anymatch: specify first argument");let s=typeof r=="boolean"?{returnIndex:r}:r,i=s.returnIndex||!1,n=jn(t),o=n.filter(l=>typeof l=="string"&&l.charAt(0)===Gn).map(l=>l.slice(1)).map(l=>cs(l,s)),a=n.map(l=>qn(l,s));return e==null?(l,h=!1)=>{let f=typeof h=="boolean"?h:!1;return us(a,o,l,f)}:us(a,o,e,i)};Ot.default=Ot;ls.exports=Ot}),ds=v((Ml,ps)=>{ps.exports=function(e){if(typeof e!="string"||e==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(r[2])return!0;e=e.slice(r.index+r[0].length)}return!1}}),Ft=v((Wl,gs)=>{var Kn=ds(),Yn={"{":"}","(":")","[":"]"},zn=/\\(.)|(^!|\*|[\].+)]\?|\[[^\\\]]+\]|\{[^\\}]+\}|\(\?[:!=][^\\)]+\)|\([^|]+\|[^\\)]+\))/,Vn=/\\(.)|(^!|[*?{}()[\]]|\(\?)/;gs.exports=function(e,r){if(typeof e!="string"||e==="")return!1;if(Kn(e))return!0;var s=zn,i;for(r&&r.strict===!1&&(s=Vn);i=s.exec(e);){if(i[2])return!0;var n=i.index+i[0].length,o=i[1],a=o?Yn[o]:null;if(o&&a){var l=e.indexOf(a,n);l!==-1&&(n=l+1)}e=e.slice(n)}return!1}}),_s=v((Bl,ms)=>{"use strict";var Qn=Ft(),Xn=require("path").posix.dirname,Zn=require("os").platform()==="win32",Ht="/",Jn=/\\/g,eo=/[\{\[].*[\/]*.*[\}\]]$/,to=/(^|[^\\])([\{\[]|\([^\)]+$)/,ro=/\\([\!\*\?\|\[\]\(\)\{\}])/g;ms.exports=function(e,r){var s=Object.assign({flipBackslashes:!0},r);s.flipBackslashes&&Zn&&e.indexOf(Ht)<0&&(e=e.replace(Jn,Ht)),eo.test(e)&&(e+=Ht),e+="a";do e=Xn(e);while(Qn(e)||to.test(e));return e.replace(ro,"$1")}}),st=v(ee=>{"use strict";ee.isInteger=t=>typeof t=="number"?Number.isInteger(t):typeof t=="string"&&t.trim()!==""?Number.isInteger(Number(t)):!1;ee.find=(t,e)=>t.nodes.find(r=>r.type===e);ee.exceedsLimit=(t,e,r=1,s)=>s===!1||(!ee.isInteger(t)||!ee.isInteger(e))?!1:(Number(e)-Number(t))/Number(r)>=s;ee.escapeNode=(t,e=0,r)=>{let s=t.nodes[e];if(!s)return;(r&&s.type===r||s.type==="open"||s.type==="close")&&(s.escaped!==!0&&(s.value="\\"+s.value,s.escaped=!0))};ee.encloseBrace=t=>t.type!=="brace"?!1:t.commas>>0+t.ranges>>0===0?(t.invalid=!0,!0):!1;ee.isInvalidBrace=t=>t.type!=="brace"?!1:t.invalid===!0||t.dollar?!0:t.commas>>0+t.ranges>>0===0||(t.open!==!0||t.close!==!0)?(t.invalid=!0,!0):!1;ee.isOpenOrClose=t=>t.type==="open"||t.type==="close"?!0:t.open===!0||t.close===!0;ee.reduce=t=>t.reduce((e,r)=>(r.type==="text"&&e.push(r.value),r.type==="range"&&(r.type="text"),e),[]);ee.flatten=(...t)=>{let e=[],r=s=>{for(let i=0;i<s.length;i++){let n=s[i];Array.isArray(n)?r(n,e):n!==void 0&&e.push(n)}return e};return r(t),e}}),it=v((Ul,Es)=>{"use strict";var ys=st();Es.exports=(t,e={})=>{let r=(s,i={})=>{let n=e.escapeInvalid&&ys.isInvalidBrace(i),o=s.invalid===!0&&e.escapeInvalid===!0,a="";if(s.value)return(n||o)&&ys.isOpenOrClose(s)?"\\"+s.value:s.value;if(s.value)return s.value;if(s.nodes)for(let l of s.nodes)a+=r(l);return a};return r(t)}}),bs=v((jl,ws)=>{"use strict";ws.exports=function(t){return typeof t=="number"?t-t===0:typeof t=="string"&&t.trim()!==""?Number.isFinite?Number.isFinite(+t):isFinite(+t):!1}}),ks=v((ql,Rs)=>{"use strict";var xs=bs(),_e=(t,e,r)=>{if(xs(t)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(e===void 0||t===e)return String(t);if(xs(e)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let s={relaxZeros:!0,...r};typeof s.strictZeros=="boolean"&&(s.relaxZeros=s.strictZeros===!1);let i=String(s.relaxZeros),n=String(s.shorthand),o=String(s.capture),a=String(s.wrap),l=t+":"+e+"="+i+n+o+a;if(_e.cache.hasOwnProperty(l))return _e.cache[l].result;let h=Math.min(t,e),f=Math.max(t,e);if(Math.abs(h-f)===1){let w=t+"|"+e;return s.capture?`(${w})`:s.wrap===!1?w:`(?:${w})`}let u=Ss(t)||Ss(e),c={min:t,max:e,a:h,b:f},y=[],_=[];if(u&&(c.isPadded=u,c.maxLen=String(c.max).length),h<0){let w=f<0?Math.abs(f):1;_=As(w,Math.abs(h),c,s),h=c.a=0}return f>=0&&(y=As(h,f,c,s)),c.negatives=_,c.positives=y,c.result=so(_,y,s),s.capture===!0?c.result=`(${c.result})`:s.wrap!==!1&&y.length+_.length>1&&(c.result=`(?:${c.result})`),_e.cache[l]=c,c.result};function so(t,e,r){let s=Nt(t,e,"-",!1,r)||[],i=Nt(e,t,"",!1,r)||[],n=Nt(t,e,"-?",!0,r)||[],o=s.concat(n).concat(i);return o.join("|")}function no(t,e){let r=1,s=1,i=Cs(t,r),n=new Set([e]);for(;t<=i&&i<=e;)n.add(i),r+=1,i=Cs(t,r);for(i=Ts(e+1,s)-1;t<i&&i<=e;)n.add(i),s+=1,i=Ts(e+1,s)-1;return n=[...n],n.sort(io),n}function lo(t,e,r){if(t===e)return{pattern:t,count:[],digits:0};let s=oo(t,e),i=s.length,n="",o=0;for(let a=0;a<i;a++){let[l,h]=s[a];l===h?n+=l:l!=="0"||h!=="9"?n+=ao(l,h,r):o++}return o&&(n+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:n,count:[o],digits:i}}function As(t,e,r,s){let i=no(t,e),n=[],o=t,a;for(let l=0;l<i.length;l++){let h=i[l],f=lo(String(o),String(h),s),u="";if(!r.isPadded&&a&&a.pattern===f.pattern){a.count.length>1&&a.count.pop(),a.count.push(f.count[0]),a.string=a.pattern+vs(a.count),o=h+1;continue}r.isPadded&&(u=co(h,r,s)),f.string=u+f.pattern+vs(f.count),n.push(f),o=h+1,a=f}return n}function Nt(t,e,r,s,i){let n=[];for(let o of t){let{string:a}=o;!s&&!Ps(e,"string",a)&&n.push(r+a),s&&Ps(e,"string",a)&&n.push(r+a)}return n}function oo(t,e){let r=[];for(let s=0;s<t.length;s++)r.push([t[s],e[s]]);return r}function io(t,e){return t>e?1:e>t?-1:0}function Ps(t,e,r){return t.some(s=>s[e]===r)}function Cs(t,e){return Number(String(t).slice(0,-e)+"9".repeat(e))}function Ts(t,e){return t-t%Math.pow(10,e)}function vs(t){let[e=0,r=""]=t;return r||e>1?`{${e+(r?","+r:"")}}`:""}function ao(t,e,r){return`[${t}${e-t===1?"":"-"}${e}]`}function Ss(t){return/^-?(0+)\d/.test(t)}function co(t,e,r){if(!e.isPadded)return t;let s=Math.abs(e.maxLen-String(t).length),i=r.relaxZeros!==!1;switch(s){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${s}}`:`0{${s}}`}}_e.cache={};_e.clearCache=()=>_e.cache={};Rs.exports=_e}),Dt=v((Kl,Ls)=>{"use strict";var uo=require("util"),Os=ks(),Fs=t=>t!==null&&typeof t=="object"&&!Array.isArray(t),fo=t=>e=>t===!0?Number(e):String(e),It=t=>typeof t=="number"||typeof t=="string"&&t!=="",Ne=t=>Number.isInteger(+t),$t=t=>{let e=`${t}`,r=-1;if(e[0]==="-"&&(e=e.slice(1)),e==="0")return!1;for(;e[++r]==="0";);return r>0},ho=(t,e,r)=>typeof t=="string"||typeof e=="string"?!0:r.stringify===!0,po=(t,e,r)=>{if(e>0){let s=t[0]==="-"?"-":"";s&&(t=t.slice(1)),t=s+t.padStart(s?e-1:e,"0")}return r===!1?String(t):t},Hs=(t,e)=>{let r=t[0]==="-"?"-":"";for(r&&(t=t.slice(1),e--);t.length<e;)t="0"+t;return r?"-"+t:t},go=(t,e)=>{t.negatives.sort((o,a)=>o<a?-1:o>a?1:0),t.positives.sort((o,a)=>o<a?-1:o>a?1:0);let r=e.capture?"":"?:",s="",i="",n;return t.positives.length&&(s=t.positives.join("|")),t.negatives.length&&(i=`-(${r}${t.negatives.join("|")})`),s&&i?n=`${s}|${i}`:n=s||i,e.wrap?`(${r}${n})`:n},Ns=(t,e,r,s)=>{if(r)return Os(t,e,{wrap:!1,...s});let i=String.fromCharCode(t);if(t===e)return i;let n=String.fromCharCode(e);return`[${i}-${n}]`},Is=(t,e,r)=>{if(Array.isArray(t)){let s=r.wrap===!0,i=r.capture?"":"?:";return s?`(${i}${t.join("|")})`:t.join("|")}return Os(t,e,r)},$s=(...t)=>new RangeError("Invalid range arguments: "+uo.inspect(...t)),Ds=(t,e,r)=>{if(r.strictRanges===!0)throw $s([t,e]);return[]},mo=(t,e)=>{if(e.strictRanges===!0)throw new TypeError(`Expected step "${t}" to be a number`);return[]},_o=(t,e,r=1,s={})=>{let i=Number(t),n=Number(e);if(!Number.isInteger(i)||!Number.isInteger(n)){if(s.strictRanges===!0)throw $s([t,e]);return[]}i===0&&(i=0),n===0&&(n=0);let o=i>n,a=String(t),l=String(e),h=String(r);r=Math.max(Math.abs(r),1);let f=$t(a)||$t(l)||$t(h),u=f?Math.max(a.length,l.length,h.length):0,c=f===!1&&ho(t,e,s)===!1,y=s.transform||fo(c);if(s.toRegex&&r===1)return Ns(Hs(t,u),Hs(e,u),!0,s);let _={negatives:[],positives:[]},w=O=>_[O<0?"negatives":"positives"].push(Math.abs(O)),x=[],S=0;for(;o?i>=n:i<=n;)s.toRegex===!0&&r>1?w(i):x.push(po(y(i,S),u,c)),i=o?i-r:i+r,S++;return s.toRegex===!0?r>1?go(_,s):Is(x,null,{wrap:!1,...s}):x},Eo=(t,e,r=1,s={})=>{if(!Ne(t)&&t.length>1||!Ne(e)&&e.length>1)return Ds(t,e,s);let i=s.transform||(c=>String.fromCharCode(c)),n=`${t}`.charCodeAt(0),o=`${e}`.charCodeAt(0),a=n>o,l=Math.min(n,o),h=Math.max(n,o);if(s.toRegex&&r===1)return Ns(l,h,!1,s);let f=[],u=0;for(;a?n>=o:n<=o;)f.push(i(n,u)),n=a?n-r:n+r,u++;return s.toRegex===!0?Is(f,null,{wrap:!1,options:s}):f},nt=(t,e,r,s={})=>{if(e==null&&It(t))return[t];if(!It(t)||!It(e))return Ds(t,e,s);if(typeof r=="function")return nt(t,e,1,{transform:r});if(Fs(r))return nt(t,e,0,r);let i={...s};return i.capture===!0&&(i.wrap=!0),r=r||i.step||1,Ne(r)?Ne(t)&&Ne(e)?_o(t,e,r,i):Eo(t,e,Math.max(Math.abs(r),1),i):r!=null&&!Fs(r)?mo(r,i):nt(t,e,1,r)};Ls.exports=nt}),Bs=v((Yl,Ms)=>{"use strict";var yo=Dt(),Ws=st(),wo=(t,e={})=>{let r=(s,i={})=>{let n=Ws.isInvalidBrace(i),o=s.invalid===!0&&e.escapeInvalid===!0,a=n===!0||o===!0,l=e.escapeInvalid===!0?"\\":"",h="";if(s.isOpen===!0)return l+s.value;if(s.isClose===!0)return l+s.value;if(s.type==="open")return a?l+s.value:"(";if(s.type==="close")return a?l+s.value:")";if(s.type==="comma")return s.prev.type==="comma"?"":a?s.value:"|";if(s.value)return s.value;if(s.nodes&&s.ranges>0){let f=Ws.reduce(s.nodes),u=yo(...f,{...e,wrap:!1,toRegex:!0});if(u.length!==0)return f.length>1&&u.length>1?`(${u})`:u}if(s.nodes)for(let f of s.nodes)h+=r(f,s);return h};return r(t)};Ms.exports=wo}),js=v((zl,Gs)=>{"use strict";var bo=Dt(),Us=it(),Ce=st(),Ee=(t="",e="",r=!1)=>{let s=[];if(t=[].concat(t),e=[].concat(e),!e.length)return t;if(!t.length)return r?Ce.flatten(e).map(i=>`{${i}}`):e;for(let i of t)if(Array.isArray(i))for(let n of i)s.push(Ee(n,e,r));else for(let n of e)r===!0&&typeof n=="string"&&(n=`{${n}}`),s.push(Array.isArray(n)?Ee(i,n,r):i+n);return Ce.flatten(s)},Ro=(t,e={})=>{let r=e.rangeLimit===void 0?1e3:e.rangeLimit,s=(i,n={})=>{i.queue=[];let o=n,a=n.queue;for(;o.type!=="brace"&&o.type!=="root"&&o.parent;)o=o.parent,a=o.queue;if(i.invalid||i.dollar){a.push(Ee(a.pop(),Us(i,e)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){a.push(Ee(a.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let u=Ce.reduce(i.nodes);if(Ce.exceedsLimit(...u,e.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let c=bo(...u,e);c.length===0&&(c=Us(i,e)),a.push(Ee(a.pop(),c)),i.nodes=[];return}let l=Ce.encloseBrace(i),h=i.queue,f=i;for(;f.type!=="brace"&&f.type!=="root"&&f.parent;)f=f.parent,h=f.queue;for(let u=0;u<i.nodes.length;u++){let c=i.nodes[u];if(c.type==="comma"&&i.type==="brace"){u===1&&h.push(""),h.push("");continue}if(c.type==="close"){a.push(Ee(a.pop(),h,l));continue}if(c.value&&c.type!=="open"){h.push(Ee(h.pop(),c.value));continue}c.nodes&&s(c,i)}return h};return Ce.flatten(s(t))};Gs.exports=Ro}),Ks=v((Vl,qs)=>{"use strict";qs.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}}),Xs=v((Ql,Ys)=>{"use strict";var xo=it(),{MAX_LENGTH:zs,CHAR_BACKSLASH:Mt,CHAR_BACKTICK:Ao,CHAR_COMMA:So,CHAR_DOT:Co,CHAR_LEFT_PARENTHESES:To,CHAR_RIGHT_PARENTHESES:vo,CHAR_LEFT_CURLY_BRACE:Po,CHAR_RIGHT_CURLY_BRACE:ko,CHAR_LEFT_SQUARE_BRACKET:Vs,CHAR_RIGHT_SQUARE_BRACKET:Qs,CHAR_DOUBLE_QUOTE:Lo,CHAR_SINGLE_QUOTE:Oo,CHAR_NO_BREAK_SPACE:Fo,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Ho}=Ks(),No=(t,e={})=>{if(typeof t!="string")throw new TypeError("Expected a string");let r=e||{},s=typeof r.maxLength=="number"?Math.min(zs,r.maxLength):zs;if(t.length>s)throw new SyntaxError(`Input length (${t.length}), exceeds max characters (${s})`);let i={type:"root",input:t,nodes:[]},n=[i],o=i,a=i,l=0,h=t.length,f=0,u=0,c,y={},_=()=>t[f++],w=x=>{if(x.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&x.type==="text"){a.value+=x.value;return}return o.nodes.push(x),x.parent=o,x.prev=a,a=x,x};for(w({type:"bos"});f<h;){if(o=n[n.length-1],c=_(),c===Ho||c===Fo)continue;if(c===Mt){w({type:"text",value:(e.keepEscaping?c:"")+_()});continue}if(c===Qs){w({type:"text",value:"\\"+c});continue}if(c===Vs){l++;let x=!0,S;for(;f<h&&(S=_());){if(c+=S,S===Vs){l++;continue}if(S===Mt){c+=_();continue}if(S===Qs&&(l--,l===0))break}w({type:"text",value:c});continue}if(c===To){o=w({type:"paren",nodes:[]}),n.push(o),w({type:"text",value:c});continue}if(c===vo){if(o.type!=="paren"){w({type:"text",value:c});continue}o=n.pop(),w({type:"text",value:c}),o=n[n.length-1];continue}if(c===Lo||c===Oo||c===Ao){let x=c,S;for(e.keepQuotes!==!0&&(c="");f<h&&(S=_());){if(S===Mt){c+=S+_();continue}if(S===x){e.keepQuotes===!0&&(c+=S);break}c+=S}w({type:"text",value:c});continue}if(c===Po){u++;let x=a.value&&a.value.slice(-1)==="$"||o.dollar===!0,S={type:"brace",open:!0,close:!1,dollar:x,depth:u,commas:0,ranges:0,nodes:[]};o=w(S),n.push(o),w({type:"open",value:c});continue}if(c===ko){if(o.type!=="brace"){w({type:"text",value:c});continue}let x="close";o=n.pop(),o.close=!0,w({type:x,value:c}),u--,o=n[n.length-1];continue}if(c===So&&u>0){if(o.ranges>0){o.ranges=0;let x=o.nodes.shift();o.nodes=[x,{type:"text",value:xo(o)}]}w({type:"comma",value:c}),o.commas++;continue}if(c===Co&&u>0&&o.commas===0){let x=o.nodes;if(u===0||x.length===0){w({type:"text",value:c});continue}if(a.type==="dot"){if(o.range=[],a.value+=c,a.type="range",o.nodes.length!==3&&o.nodes.length!==5){o.invalid=!0,o.ranges=0,a.type="text";continue}o.ranges++,o.args=[];continue}if(a.type==="range"){x.pop();let S=x[x.length-1];S.value+=a.value+c,a=S,o.ranges--;continue}w({type:"dot",value:c});continue}w({type:"text",value:c})}do if(o=n.pop(),o.type!=="root"){o.nodes.forEach(O=>{O.nodes||(O.type==="open"&&(O.isOpen=!0),O.type==="close"&&(O.isClose=!0),O.nodes||(O.type="text"),O.invalid=!0)});let x=n[n.length-1],S=x.nodes.indexOf(o);x.nodes.splice(S,1,...o.nodes)}while(n.length>0);return w({type:"eos"}),i};Ys.exports=No}),ei=v((Xl,Zs)=>{"use strict";var Js=it(),Io=Bs(),$o=js(),Do=Xs(),Q=(t,e={})=>{let r=[];if(Array.isArray(t))for(let s of t){let i=Q.create(s,e);Array.isArray(i)?r.push(...i):r.push(i)}else r=[].concat(Q.create(t,e));return e&&e.expand===!0&&e.nodupes===!0&&(r=[...new Set(r)]),r};Q.parse=(t,e={})=>Do(t,e);Q.stringify=(t,e={})=>typeof t=="string"?Js(Q.parse(t,e),e):Js(t,e);Q.compile=(t,e={})=>(typeof t=="string"&&(t=Q.parse(t,e)),Io(t,e));Q.expand=(t,e={})=>{typeof t=="string"&&(t=Q.parse(t,e));let r=$o(t,e);return e.noempty===!0&&(r=r.filter(Boolean)),e.nodupes===!0&&(r=[...new Set(r)]),r};Q.create=(t,e={})=>t===""||t.length<3?[t]:e.expand!==!0?Q.compile(t,e):Q.expand(t,e);Zs.exports=Q}),ri=v((Zl,ti)=>{ti.exports=["3dm","3ds","3g2","3gp","7z","a","aac","adp","ai","aif","aiff","alz","ape","apk","appimage","ar","arj","asf","au","avi","bak","baml","bh","bin","bk","bmp","btif","bz2","bzip2","cab","caf","cgm","class","cmx","cpio","cr2","cur","dat","dcm","deb","dex","djvu","dll","dmg","dng","doc","docm","docx","dot","dotm","dra","DS_Store","dsk","dts","dtshd","dvb","dwg","dxf","ecelp4800","ecelp7470","ecelp9600","egg","eol","eot","epub","exe","f4v","fbs","fh","fla","flac","flatpak","fli","flv","fpx","fst","fvt","g3","gh","gif","graffle","gz","gzip","h261","h263","h264","icns","ico","ief","img","ipa","iso","jar","jpeg","jpg","jpgv","jpm","jxr","key","ktx","lha","lib","lvp","lz","lzh","lzma","lzo","m3u","m4a","m4v","mar","mdi","mht","mid","midi","mj2","mka","mkv","mmr","mng","mobi","mov","movie","mp3","mp4","mp4a","mpeg","mpg","mpga","mxu","nef","npx","numbers","nupkg","o","oga","ogg","ogv","otf","pages","pbm","pcx","pdb","pdf","pea","pgm","pic","png","pnm","pot","potm","potx","ppa","ppam","ppm","pps","ppsm","ppsx","ppt","pptm","pptx","psd","pya","pyc","pyo","pyv","qt","rar","ras","raw","resources","rgb","rip","rlc","rmf","rmvb","rpm","rtf","rz","s3m","s7z","scpt","sgi","shar","snap","sil","sketch","slk","smv","snk","so","stl","suo","sub","swf","tar","tbz","tbz2","tga","tgz","thmx","tif","tiff","tlz","ttc","ttf","txz","udf","uvh","uvi","uvm","uvp","uvs","uvu","viv","vob","war","wav","wax","wbmp","wdp","weba","webm","webp","whl","wim","wm","wma","wmv","wmx","woff","woff2","wrm","wvx","xbm","xif","xla","xlam","xls","xlsb","xlsm","xlsx","xlt","xltm","xltx","xm","xmind","xpi","xpm","xwd","xz","z","zip","zipx"]}),ii=v((Jl,si)=>{si.exports=ri()}),oi=v((ec,ni)=>{"use strict";var Mo=require("path"),Wo=ii(),Bo=new Set(Wo);ni.exports=t=>Bo.has(Mo.extname(t).slice(1).toLowerCase())}),ot=v(b=>{"use strict";var{sep:Go}=require("path"),{platform:Wt}=process;b.EV_ALL="all";b.EV_READY="ready";b.EV_ADD="add";b.EV_CHANGE="change";b.EV_ADD_DIR="addDir";b.EV_UNLINK="unlink";b.EV_UNLINK_DIR="unlinkDir";b.EV_RAW="raw";b.EV_ERROR="error";b.STR_DATA="data";b.STR_END="end";b.STR_CLOSE="close";b.FSEVENT_CREATED="created";b.FSEVENT_MODIFIED="modified";b.FSEVENT_DELETED="deleted";b.FSEVENT_MOVED="moved";b.FSEVENT_CLONED="cloned";b.FSEVENT_UNKNOWN="unknown";b.FSEVENT_TYPE_FILE="file";b.FSEVENT_TYPE_DIRECTORY="directory";b.FSEVENT_TYPE_SYMLINK="symlink";b.KEY_LISTENERS="listeners";b.KEY_ERR="errHandlers";b.KEY_RAW="rawEmitters";b.HANDLER_KEYS=[b.KEY_LISTENERS,b.KEY_ERR,b.KEY_RAW];b.DOT_SLASH=`.${Go}`;b.BACK_SLASH_RE=/\\/g;b.DOUBLE_SLASH_RE=/\/\//;b.SLASH_OR_BACK_SLASH_RE=/[/\\]/;b.DOT_RE=/\..*\.(sw[px])$|~$|\.subl.*\.tmp/;b.REPLACER_RE=/^\.[/\\]/;b.SLASH="/";b.SLASH_SLASH="//";b.BRACE_START="{";b.BANG="!";b.ONE_DOT=".";b.TWO_DOTS="..";b.STAR="*";b.GLOBSTAR="**";b.ROOT_GLOBSTAR="/**/*";b.SLASH_GLOBSTAR="/**";b.DIR_SUFFIX="Dir";b.ANYMATCH_OPTS={dot:!0};b.STRING_TYPE="string";b.FUNCTION_TYPE="function";b.EMPTY_STR="";b.EMPTY_FN=()=>{};b.IDENTITY_FN=t=>t;b.isWindows=Wt==="win32";b.isMacos=Wt==="darwin";b.isLinux=Wt==="linux"}),pi=v((rc,ai)=>{"use strict";var pe=require("fs"),G=require("path"),{promisify:Ie}=require("util"),Uo=oi(),{isWindows:jo,isLinux:qo,EMPTY_FN:Ko,EMPTY_STR:Yo,KEY_LISTENERS:Te,KEY_ERR:Bt,KEY_RAW:$e,HANDLER_KEYS:zo,EV_CHANGE:at,EV_ADD:lt,EV_ADD_DIR:Vo,EV_ERROR:li,STR_DATA:Qo,STR_END:Xo,BRACE_START:Zo,STAR:Jo}=ot(),ea="watch",ta=Ie(pe.open),ci=Ie(pe.stat),ra=Ie(pe.lstat),sa=Ie(pe.close),Gt=Ie(pe.realpath),ia={lstat:ra,stat:ci},Ut=(t,e)=>{t instanceof Set?t.forEach(e):e(t)},De=(t,e,r)=>{let s=t[e];s instanceof Set||(t[e]=s=new Set([s])),s.add(r)},na=t=>e=>{let r=t[e];r instanceof Set?r.clear():delete t[e]},Me=(t,e,r)=>{let s=t[e];s instanceof Set?s.delete(r):s===r&&delete t[e]},ui=t=>t instanceof Set?t.size===0:!t,ct=new Map;function fi(t,e,r,s,i){let n=(o,a)=>{r(t),i(o,a,{watchedPath:t}),a&&t!==a&&ut(G.resolve(t,a),Te,G.join(t,a))};try{return pe.watch(t,e,n)}catch(o){s(o)}}var ut=(t,e,r,s,i)=>{let n=ct.get(t);if(!n)return;Ut(n[e],o=>{o(r,s,i)})},oa=(t,e,r,s)=>{let{listener:i,errHandler:n,rawEmitter:o}=s,a=ct.get(e),l;if(!r.persistent)return l=fi(t,r,i,n,o),l.close.bind(l);if(a)De(a,Te,i),De(a,Bt,n),De(a,$e,o);else{if(l=fi(t,r,ut.bind(null,e,Te),n,ut.bind(null,e,$e)),!l)return;l.on(li,async h=>{let f=ut.bind(null,e,Bt);if(a.watcherUnusable=!0,jo&&h.code==="EPERM")try{let u=await ta(t,"r");await sa(u),f(h)}catch(u){}else f(h)}),a={listeners:i,errHandlers:n,rawEmitters:o,watcher:l},ct.set(e,a)}return()=>{Me(a,Te,i),Me(a,Bt,n),Me(a,$e,o),ui(a.listeners)&&(a.watcher.close(),ct.delete(e),zo.forEach(na(a)),a.watcher=void 0,Object.freeze(a))}},jt=new Map,aa=(t,e,r,s)=>{let{listener:i,rawEmitter:n}=s,o=jt.get(e),a=new Set,l=new Set,h=o&&o.options;return h&&(h.persistent<r.persistent||h.interval>r.interval)&&(a=o.listeners,l=o.rawEmitters,pe.unwatchFile(e),o=void 0),o?(De(o,Te,i),De(o,$e,n)):(o={listeners:i,rawEmitters:n,options:r,watcher:pe.watchFile(e,r,(f,u)=>{Ut(o.rawEmitters,y=>{y(at,e,{curr:f,prev:u})});let c=f.mtimeMs;(f.size!==u.size||c>u.mtimeMs||c===0)&&Ut(o.listeners,y=>y(t,f))})},jt.set(e,o)),()=>{Me(o,Te,i),Me(o,$e,n),ui(o.listeners)&&(jt.delete(e),pe.unwatchFile(e),o.options=o.watcher=void 0,Object.freeze(o))}},hi=class{constructor(e){this.fsw=e,this._boundHandleError=r=>e._handleError(r)}_watchWithNodeFs(e,r){let s=this.fsw.options,i=G.dirname(e),n=G.basename(e),o=this.fsw._getWatchedDir(i);o.add(n);let a=G.resolve(e),l={persistent:s.persistent};r||(r=Ko);let h;return s.usePolling?(l.interval=s.enableBinaryInterval&&Uo(n)?s.binaryInterval:s.interval,h=aa(e,a,l,{listener:r,rawEmitter:this.fsw._emitRaw})):h=oa(e,a,l,{listener:r,errHandler:this._boundHandleError,rawEmitter:this.fsw._emitRaw}),h}_handleFile(e,r,s){if(this.fsw.closed)return;let i=G.dirname(e),n=G.basename(e),o=this.fsw._getWatchedDir(i),a=r;if(o.has(n))return;let l=async(f,u)=>{if(!this.fsw._throttle(ea,e,5))return;if(!u||u.mtimeMs===0)try{let c=await ci(e);if(this.fsw.closed)return;let y=c.atimeMs,_=c.mtimeMs;(!y||y<=_||_!==a.mtimeMs)&&this.fsw._emit(at,e,c),qo&&a.ino!==c.ino?(this.fsw._closeFile(f),a=c,this.fsw._addPathCloser(f,this._watchWithNodeFs(e,l))):a=c}catch(c){this.fsw._remove(i,n)}else if(o.has(n)){let c=u.atimeMs,y=u.mtimeMs;(!c||c<=y||y!==a.mtimeMs)&&this.fsw._emit(at,e,u),a=u}},h=this._watchWithNodeFs(e,l);if(!(s&&this.fsw.options.ignoreInitial)&&this.fsw._isntIgnored(e)){if(!this.fsw._throttle(lt,e,0))return;this.fsw._emit(lt,e,r)}return h}async _handleSymlink(e,r,s,i){if(this.fsw.closed)return;let n=e.fullPath,o=this.fsw._getWatchedDir(r);if(!this.fsw.options.followSymlinks){this.fsw._incrReadyCount();let a=await Gt(s);return this.fsw.closed?void 0:(o.has(i)?this.fsw._symlinkPaths.get(n)!==a&&(this.fsw._symlinkPaths.set(n,a),this.fsw._emit(at,s,e.stats)):(o.add(i),this.fsw._symlinkPaths.set(n,a),this.fsw._emit(lt,s,e.stats)),this.fsw._emitReady(),!0)}if(this.fsw._symlinkPaths.has(n))return!0;this.fsw._symlinkPaths.set(n,!0)}_handleRead(e,r,s,i,n,o,a){if(e=G.join(e,Yo),!s.hasGlob&&(a=this.fsw._throttle("readdir",e,1e3),!a))return;let l=this.fsw._getWatchedDir(s.path),h=new Set,f=this.fsw._readdirp(e,{fileFilter:u=>s.filterPath(u),directoryFilter:u=>s.filterDir(u),depth:0}).on(Qo,async u=>{if(this.fsw.closed){f=void 0;return}let c=u.path,y=G.join(e,c);if(h.add(c),u.stats.isSymbolicLink()&&await this._handleSymlink(u,e,y,c))return;if(this.fsw.closed){f=void 0;return}(c===i||!i&&!l.has(c))&&(this.fsw._incrReadyCount(),y=G.join(n,G.relative(n,y)),this._addToNodeFs(y,r,s,o+1))}).on(li,this._boundHandleError);return new Promise(u=>f.once(Xo,()=>{if(this.fsw.closed){f=void 0;return}let c=a?a.clear():!1;u(),l.getChildren().filter(y=>y!==e&&!h.has(y)&&(!s.hasGlob||s.filterPath({fullPath:G.resolve(e,y)}))).forEach(y=>{this.fsw._remove(e,y)}),f=void 0,c&&this._handleRead(e,!1,s,i,n,o,a)}))}async _handleDir(e,r,s,i,n,o,a){let l=this.fsw._getWatchedDir(G.dirname(e)),h=l.has(G.basename(e));!(s&&this.fsw.options.ignoreInitial)&&!n&&!h&&((!o.hasGlob||o.globFilter(e))&&this.fsw._emit(Vo,e,r)),l.add(G.basename(e)),this.fsw._getWatchedDir(e);let f,u,c=this.fsw.options.depth;if((c==null||i<=c)&&!this.fsw._symlinkPaths.has(a)){if(!n&&(await this._handleRead(e,s,o,n,e,i,f),this.fsw.closed))return;u=this._watchWithNodeFs(e,(y,_)=>{if(_&&_.mtimeMs===0)return;this._handleRead(y,!1,o,n,e,i,f)})}return u}async _addToNodeFs(e,r,s,i,n){let o=this.fsw._emitReady;if(this.fsw._isIgnored(e)||this.fsw.closed)return o(),!1;let a=this.fsw._getWatchHelpers(e,i);!a.hasGlob&&s&&(a.hasGlob=s.hasGlob,a.globFilter=s.globFilter,a.filterPath=l=>s.filterPath(l),a.filterDir=l=>s.filterDir(l));try{let l=await ia[a.statMethod](a.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(a.watchPath,l))return o(),!1;let h=this.fsw.options.followSymlinks&&!e.includes(Jo)&&!e.includes(Zo),f;if(l.isDirectory()){let u=h?await Gt(e):e;if(this.fsw.closed)return;if(f=await this._handleDir(a.watchPath,l,r,i,n,a,u),this.fsw.closed)return;e!==u&&u!==void 0&&this.fsw._symlinkPaths.set(u,!0)}else if(l.isSymbolicLink()){let u=h?await Gt(e):e;if(this.fsw.closed)return;let c=G.dirname(a.watchPath);if(this.fsw._getWatchedDir(c).add(a.watchPath),this.fsw._emit(lt,a.watchPath,l),f=await this._handleDir(c,l,r,i,e,a,u),this.fsw.closed)return;u!==void 0&&this.fsw._symlinkPaths.set(G.resolve(e),u)}else f=this._handleFile(a.watchPath,l,r);return o(),this.fsw._addPathCloser(e,f),!1}catch(l){if(this.fsw._handleError(l))return o(),e}}};ai.exports=hi}),bi=v((sc,qt)=>{"use strict";var Kt=require("fs"),B=require("path"),{promisify:Yt}=require("util"),ve;try{ve=require("fsevents")}catch(t){process.env.CHOKIDAR_PRINT_FSEVENTS_REQUIRE_ERROR&&console.error(t)}if(ve){let t=process.version.match(/v(\d+)\.(\d+)/);if(t&&t[1]&&t[2]){let e=Number.parseInt(t[1],10),r=Number.parseInt(t[2],10);e===8&&r<16&&(ve=void 0)}}var{EV_ADD:zt,EV_CHANGE:la,EV_ADD_DIR:di,EV_UNLINK:ft,EV_ERROR:ca,STR_DATA:ua,STR_END:fa,FSEVENT_CREATED:ha,FSEVENT_MODIFIED:pa,FSEVENT_DELETED:da,FSEVENT_MOVED:ga,FSEVENT_UNKNOWN:ma,FSEVENT_TYPE_FILE:_a,FSEVENT_TYPE_DIRECTORY:We,FSEVENT_TYPE_SYMLINK:gi,ROOT_GLOBSTAR:mi,DIR_SUFFIX:Ea,DOT_SLASH:_i,FUNCTION_TYPE:Vt,EMPTY_FN:ya,IDENTITY_FN:wa}=ot(),ba=t=>isNaN(t)?{}:{depth:t},Qt=Yt(Kt.stat),Ra=Yt(Kt.lstat),Ei=Yt(Kt.realpath),xa={stat:Qt,lstat:Ra},ye=new Map,Aa=10,Sa=new Set([69888,70400,71424,72704,73472,131328,131840,262912]),Ca=(t,e)=>{let r=ve.watch(t,e);return{stop:r}};function va(t,e,r,s){let i=B.extname(t)?B.dirname(t):t,n=B.dirname(i),o=ye.get(i);Ta(n)&&(i=n);let a=B.resolve(t),l=a!==e,h=(u,c,y)=>{l&&(u=u.replace(e,a)),(u===a||!u.indexOf(a+B.sep))&&r(u,c,y)},f=!1;for(let u of ye.keys())if(e.indexOf(B.resolve(u)+B.sep)===0){i=u,o=ye.get(i),f=!0;break}return o||f?o.listeners.add(h):(o={listeners:new Set([h]),rawEmitter:s,watcher:Ca(i,(u,c)=>{if(!o.listeners.size)return;let y=ve.getInfo(u,c);o.listeners.forEach(_=>{_(u,c,y)}),o.rawEmitter(y.event,u,y)})},ye.set(i,o)),()=>{let u=o.listeners;if(u.delete(h),!u.size&&(ye.delete(i),o.watcher))return o.watcher.stop().then(()=>{o.rawEmitter=o.watcher=void 0,Object.freeze(o)})}}var Ta=t=>{let e=0;for(let r of ye.keys())if(r.indexOf(t)===0&&(e++,e>=Aa))return!0;return!1},Pa=()=>ve&&ye.size<128,Xt=(t,e)=>{let r=0;for(;!t.indexOf(e)&&(t=B.dirname(t))!==e;)r++;return r},yi=(t,e)=>t.type===We&&e.isDirectory()||t.type===gi&&e.isSymbolicLink()||t.type===_a&&e.isFile(),wi=class{constructor(e){this.fsw=e}checkIgnored(e,r){let s=this.fsw._ignoredPaths;if(this.fsw._isIgnored(e,r))return s.add(e),r&&r.isDirectory()&&s.add(e+mi),!0;s.delete(e),s.delete(e+mi)}addOrChange(e,r,s,i,n,o,a,l){let h=n.has(o)?la:zt;this.handleEvent(h,e,r,s,i,n,o,a,l)}async checkExists(e,r,s,i,n,o,a,l){try{let h=await Qt(e);if(this.fsw.closed)return;yi(a,h)?this.addOrChange(e,r,s,i,n,o,a,l):this.handleEvent(ft,e,r,s,i,n,o,a,l)}catch(h){h.code==="EACCES"?this.addOrChange(e,r,s,i,n,o,a,l):this.handleEvent(ft,e,r,s,i,n,o,a,l)}}handleEvent(e,r,s,i,n,o,a,l,h){if(this.fsw.closed||this.checkIgnored(r))return;if(e===ft){let f=l.type===We;(f||o.has(a))&&this.fsw._remove(n,a,f)}else{if(e===zt){if(l.type===We&&this.fsw._getWatchedDir(r),l.type===gi&&h.followSymlinks){let u=h.depth===void 0?void 0:Xt(s,i)+1;return this._addToFsEvents(r,!1,!0,u)}this.fsw._getWatchedDir(n).add(a)}let f=l.type===We?e+Ea:e;this.fsw._emit(f,r),f===di&&this._addToFsEvents(r,!1,!0)}}_watchWithFsEvents(e,r,s,i){if(this.fsw.closed)return;if(this.fsw._isIgnored(e))return;let n=this.fsw.options,o=async(l,h,f)=>{if(this.fsw.closed)return;if(n.depth!==void 0&&Xt(l,r)>n.depth)return;let u=s(B.join(e,B.relative(e,l)));if(i&&!i(u))return;let c=B.dirname(u),y=B.basename(u),_=this.fsw._getWatchedDir(f.type===We?u:c);if(Sa.has(h)||f.event===ma)if(typeof n.ignored===Vt){let w;try{w=await Qt(u)}catch(x){}if(this.fsw.closed)return;if(this.checkIgnored(u,w))return;yi(f,w)?this.addOrChange(u,l,r,c,_,y,f,n):this.handleEvent(ft,u,l,r,c,_,y,f,n)}else this.checkExists(u,l,r,c,_,y,f,n);else switch(f.event){case ha:case pa:return this.addOrChange(u,l,r,c,_,y,f,n);case da:case ga:return this.checkExists(u,l,r,c,_,y,f,n)}},a=va(e,r,o,this.fsw._emitRaw);return this.fsw._emitReady(),a}async _handleFsEventsSymlink(e,r,s,i){if(this.fsw.closed||this.fsw._symlinkPaths.has(r))return;this.fsw._symlinkPaths.set(r,!0),this.fsw._incrReadyCount();try{let n=await Ei(e);if(this.fsw.closed)return;if(this.fsw._isIgnored(n))return this.fsw._emitReady();this.fsw._incrReadyCount(),this._addToFsEvents(n||e,o=>{let a=e;return n&&n!==_i?a=o.replace(n,e):o!==_i&&(a=B.join(e,o)),s(a)},!1,i)}catch(n){if(this.fsw._handleError(n))return this.fsw._emitReady()}}emitAdd(e,r,s,i,n){let o=s(e),a=r.isDirectory(),l=this.fsw._getWatchedDir(B.dirname(o)),h=B.basename(o);if(a&&this.fsw._getWatchedDir(o),l.has(h))return;l.add(h),(!i.ignoreInitial||n===!0)&&this.fsw._emit(a?di:zt,o,r)}initWatch(e,r,s,i){if(this.fsw.closed)return;let n=this._watchWithFsEvents(s.watchPath,B.resolve(e||s.watchPath),i,s.globFilter);this.fsw._addPathCloser(r,n)}async _addToFsEvents(e,r,s,i){if(this.fsw.closed)return;let n=this.fsw.options,o=typeof r===Vt?r:wa,a=this.fsw._getWatchHelpers(e);try{let l=await xa[a.statMethod](a.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(a.watchPath,l))throw null;if(l.isDirectory()){if(a.globFilter||this.emitAdd(o(e),l,o,n,s),i&&i>n.depth)return;this.fsw._readdirp(a.watchPath,{fileFilter:h=>a.filterPath(h),directoryFilter:h=>a.filterDir(h),...ba(n.depth-(i||0))}).on(ua,h=>{if(this.fsw.closed)return;if(h.stats.isDirectory()&&!a.filterPath(h))return;let f=B.join(a.watchPath,h.path),{fullPath:u}=h;if(a.followSymlinks&&h.stats.isSymbolicLink()){let c=n.depth===void 0?void 0:Xt(f,B.resolve(a.watchPath))+1;this._handleFsEventsSymlink(f,u,o,c)}else this.emitAdd(f,h.stats,o,n,s)}).on(ca,ya).on(fa,()=>{this.fsw._emitReady()})}else this.emitAdd(a.watchPath,l,o,n,s),this.fsw._emitReady()}catch(l){(!l||this.fsw._handleError(l))&&(this.fsw._emitReady(),this.fsw._emitReady())}if(n.persistent&&s!==!0)if(typeof r===Vt)this.initWatch(void 0,e,a,o);else{let l;try{l=await Ei(a.watchPath)}catch(h){}this.initWatch(l,e,a,o)}}};qt.exports=wi;qt.exports.canUse=Pa}),Hi=v(Zt=>{"use strict";var{EventEmitter:ka}=require("events"),Jt=require("fs"),k=require("path"),{promisify:Ri}=require("util"),La=is(),er=hs().default,Oa=_s(),tr=Ft(),Fa=ei(),Ha=Lt(),Na=pi(),xi=bi(),{EV_ALL:rr,EV_READY:Ia,EV_ADD:ht,EV_CHANGE:Be,EV_UNLINK:Ai,EV_ADD_DIR:$a,EV_UNLINK_DIR:Da,EV_RAW:Ma,EV_ERROR:sr,STR_CLOSE:Wa,STR_END:Ba,BACK_SLASH_RE:Ga,DOUBLE_SLASH_RE:Si,SLASH_OR_BACK_SLASH_RE:Ua,DOT_RE:ja,REPLACER_RE:qa,SLASH:ir,SLASH_SLASH:Ka,BRACE_START:Ya,BANG:nr,ONE_DOT:Ci,TWO_DOTS:za,GLOBSTAR:Va,SLASH_GLOBSTAR:or,ANYMATCH_OPTS:ar,STRING_TYPE:lr,FUNCTION_TYPE:Qa,EMPTY_STR:cr,EMPTY_FN:Xa,isWindows:Za,isMacos:Ja}=ot(),el=Ri(Jt.stat),tl=Ri(Jt.readdir),ur=(t=[])=>Array.isArray(t)?t:[t],Ti=(t,e=[])=>(t.forEach(r=>{Array.isArray(r)?Ti(r,e):e.push(r)}),e),Pi=t=>{let e=Ti(ur(t));if(!e.every(r=>typeof r===lr))throw new TypeError(`Non-string provided as watch path: ${e}`);return e.map(vi)},ki=t=>{let e=t.replace(Ga,ir),r=!1;for(e.startsWith(Ka)&&(r=!0);e.match(Si);)e=e.replace(Si,ir);return r&&(e=ir+e),e},vi=t=>ki(k.normalize(ki(t))),Li=(t=cr)=>e=>typeof e!==lr?e:vi(k.isAbsolute(e)?e:k.join(t,e)),rl=(t,e)=>k.isAbsolute(t)?t:t.startsWith(nr)?nr+k.join(e,t.slice(1)):k.join(e,t),ne=(t,e)=>t[e]===void 0,Oi=class{constructor(e,r){this.path=e,this._removeWatcher=r,this.items=new Set}add(e){let{items:r}=this;if(!r)return;e!==Ci&&e!==za&&r.add(e)}async remove(e){let{items:r}=this;if(!r)return;if(r.delete(e),r.size>0)return;let s=this.path;try{await tl(s)}catch(i){this._removeWatcher&&this._removeWatcher(k.dirname(s),k.basename(s))}}has(e){let{items:r}=this;return r?r.has(e):void 0}getChildren(){let{items:e}=this;return e?[...e.values()]:void 0}dispose(){this.items.clear(),delete this.path,delete this._removeWatcher,delete this.items,Object.freeze(this)}},sl="stat",il="lstat",Fi=class{constructor(e,r,s,i){this.fsw=i,this.path=e=e.replace(qa,cr),this.watchPath=r,this.fullWatchPath=k.resolve(r),this.hasGlob=r!==e,e===cr&&(this.hasGlob=!1),this.globSymlink=this.hasGlob&&s?void 0:!1,this.globFilter=this.hasGlob?er(e,void 0,ar):!1,this.dirParts=this.getDirParts(e),this.dirParts.forEach(n=>{n.length>1&&n.pop()}),this.followSymlinks=s,this.statMethod=s?sl:il}checkGlobSymlink(e){return this.globSymlink===void 0&&(this.globSymlink=e.fullParentDir===this.fullWatchPath?!1:{realPath:e.fullParentDir,linkPath:this.fullWatchPath}),this.globSymlink?e.fullPath.replace(this.globSymlink.realPath,this.globSymlink.linkPath):e.fullPath}entryPath(e){return k.join(this.watchPath,k.relative(this.watchPath,this.checkGlobSymlink(e)))}filterPath(e){let{stats:r}=e;if(r&&r.isSymbolicLink())return this.filterDir(e);let s=this.entryPath(e),i=this.hasGlob&&typeof this.globFilter===Qa?this.globFilter(s):!0;return i&&this.fsw._isntIgnored(s,r)&&this.fsw._hasReadPermissions(r)}getDirParts(e){if(!this.hasGlob)return[];let r=[],s=e.includes(Ya)?Fa.expand(e):[e];return s.forEach(i=>{r.push(k.relative(this.watchPath,i).split(Ua))}),r}filterDir(e){if(this.hasGlob){let r=this.getDirParts(this.checkGlobSymlink(e)),s=!1;this.unmatchedGlob=!this.dirParts.some(i=>i.every((n,o)=>(n===Va&&(s=!0),s||!r[0][o]||er(n,r[0][o],ar))))}return!this.unmatchedGlob&&this.fsw._isntIgnored(this.entryPath(e),e.stats)}},fr=class extends ka{constructor(e){super();let r={};e&&Object.assign(r,e),this._watched=new Map,this._closers=new Map,this._ignoredPaths=new Set,this._throttled=new Map,this._symlinkPaths=new Map,this._streams=new Set,this.closed=!1,ne(r,"persistent")&&(r.persistent=!0),ne(r,"ignoreInitial")&&(r.ignoreInitial=!1),ne(r,"ignorePermissionErrors")&&(r.ignorePermissionErrors=!1),ne(r,"interval")&&(r.interval=100),ne(r,"binaryInterval")&&(r.binaryInterval=300),ne(r,"disableGlobbing")&&(r.disableGlobbing=!1),r.enableBinaryInterval=r.binaryInterval!==r.interval,ne(r,"useFsEvents")&&(r.useFsEvents=!r.usePolling);let s=xi.canUse();s||(r.useFsEvents=!1),ne(r,"usePolling")&&!r.useFsEvents&&(r.usePolling=Ja);let i=process.env.CHOKIDAR_USEPOLLING;if(i!==void 0){let l=i.toLowerCase();l==="false"||l==="0"?r.usePolling=!1:l==="true"||l==="1"?r.usePolling=!0:r.usePolling=!!l}let n=process.env.CHOKIDAR_INTERVAL;n&&(r.interval=Number.parseInt(n,10)),ne(r,"atomic")&&(r.atomic=!r.usePolling&&!r.useFsEvents),r.atomic&&(this._pendingUnlinks=new Map),ne(r,"followSymlinks")&&(r.followSymlinks=!0),ne(r,"awaitWriteFinish")&&(r.awaitWriteFinish=!1),r.awaitWriteFinish===!0&&(r.awaitWriteFinish={});let o=r.awaitWriteFinish;o&&(o.stabilityThreshold||(o.stabilityThreshold=2e3),o.pollInterval||(o.pollInterval=100),this._pendingWrites=new Map),r.ignored&&(r.ignored=ur(r.ignored));let a=0;this._emitReady=()=>{a++,a>=this._readyCount&&(this._emitReady=Xa,this._readyEmitted=!0,process.nextTick(()=>this.emit(Ia)))},this._emitRaw=(...l)=>this.emit(Ma,...l),this._readyEmitted=!1,this.options=r,r.useFsEvents?this._fsEventsHandler=new xi(this):this._nodeFsHandler=new Na(this),Object.freeze(r)}add(e,r,s){let{cwd:i,disableGlobbing:n}=this.options;this.closed=!1;let o=Pi(e);return i&&(o=o.map(a=>{let l=rl(a,i);return n||!tr(a)?l:Ha(l)})),o=o.filter(a=>a.startsWith(nr)?(this._ignoredPaths.add(a.slice(1)),!1):(this._ignoredPaths.delete(a),this._ignoredPaths.delete(a+or),this._userIgnored=void 0,!0)),this.options.useFsEvents&&this._fsEventsHandler?(this._readyCount||(this._readyCount=o.length),this.options.persistent&&(this._readyCount*=2),o.forEach(a=>this._fsEventsHandler._addToFsEvents(a))):(this._readyCount||(this._readyCount=0),this._readyCount+=o.length,Promise.all(o.map(async a=>{let l=await this._nodeFsHandler._addToNodeFs(a,!s,0,0,r);return l&&this._emitReady(),l})).then(a=>{if(this.closed)return;a.filter(l=>l).forEach(l=>{this.add(k.dirname(l),k.basename(r||l))})})),this}unwatch(e){if(this.closed)return this;let r=Pi(e),{cwd:s}=this.options;return r.forEach(i=>{!k.isAbsolute(i)&&!this._closers.has(i)&&(s&&(i=k.join(s,i)),i=k.resolve(i)),this._closePath(i),this._ignoredPaths.add(i),this._watched.has(i)&&this._ignoredPaths.add(i+or),this._userIgnored=void 0}),this}close(){if(this.closed)return this._closePromise;this.closed=!0,this.removeAllListeners();let e=[];return this._closers.forEach(r=>r.forEach(s=>{let i=s();i instanceof Promise&&e.push(i)})),this._streams.forEach(r=>r.destroy()),this._userIgnored=void 0,this._readyCount=0,this._readyEmitted=!1,this._watched.forEach(r=>r.dispose()),["closers","watched","streams","symlinkPaths","throttled"].forEach(r=>{this[`_${r}`].clear()}),this._closePromise=e.length?Promise.all(e).then(()=>{}):Promise.resolve(),this._closePromise}getWatched(){let e={};return this._watched.forEach((r,s)=>{let i=this.options.cwd?k.relative(this.options.cwd,s):s;e[i||Ci]=r.getChildren().sort()}),e}emitWithAll(e,r){this.emit(...r),e!==sr&&this.emit(rr,...r)}async _emit(e,r,s,i,n){if(this.closed)return;let o=this.options;Za&&(r=k.normalize(r)),o.cwd&&(r=k.relative(o.cwd,r));let a=[e,r];n!==void 0?a.push(s,i,n):i!==void 0?a.push(s,i):s!==void 0&&a.push(s);let l=o.awaitWriteFinish,h;if(l&&(h=this._pendingWrites.get(r)))return h.lastChange=new Date,this;if(o.atomic){if(e===Ai)return this._pendingUnlinks.set(r,a),setTimeout(()=>{this._pendingUnlinks.forEach((f,u)=>{this.emit(...f),this.emit(rr,...f),this._pendingUnlinks.delete(u)})},typeof o.atomic=="number"?o.atomic:100),this;e===ht&&this._pendingUnlinks.has(r)&&(e=a[0]=Be,this._pendingUnlinks.delete(r))}if(l&&(e===ht||e===Be)&&this._readyEmitted){let f=(u,c)=>{u?(e=a[0]=sr,a[1]=u,this.emitWithAll(e,a)):c&&(a.length>2?a[2]=c:a.push(c),this.emitWithAll(e,a))};return this._awaitWriteFinish(r,l.stabilityThreshold,e,f),this}if(e===Be){let f=!this._throttle(Be,r,50);if(f)return this}if(o.alwaysStat&&s===void 0&&(e===ht||e===$a||e===Be)){let f=o.cwd?k.join(o.cwd,r):r,u;try{u=await el(f)}catch(c){}if(!u||this.closed)return;a.push(u)}return this.emitWithAll(e,a),this}_handleError(e){let r=e&&e.code;return e&&r!=="ENOENT"&&r!=="ENOTDIR"&&(!this.options.ignorePermissionErrors||r!=="EPERM"&&r!=="EACCES")&&this.emit(sr,e),e||this.closed}_throttle(e,r,s){this._throttled.has(e)||this._throttled.set(e,new Map);let i=this._throttled.get(e),n=i.get(r);if(n)return n.count++,!1;let o,a=()=>{let h=i.get(r),f=h?h.count:0;return i.delete(r),clearTimeout(o),h&&clearTimeout(h.timeoutObject),f};o=setTimeout(a,s);let l={timeoutObject:o,clear:a,count:0};return i.set(r,l),l}_incrReadyCount(){return this._readyCount++}_awaitWriteFinish(e,r,s,i){let n,o=e;this.options.cwd&&!k.isAbsolute(e)&&(o=k.join(this.options.cwd,e));let a=new Date,l=h=>{Jt.stat(o,(f,u)=>{if(f||!this._pendingWrites.has(e)){f&&f.code!=="ENOENT"&&i(f);return}let c=Number(new Date);h&&u.size!==h.size&&(this._pendingWrites.get(e).lastChange=c);let y=this._pendingWrites.get(e),_=c-y.lastChange;_>=r?(this._pendingWrites.delete(e),i(void 0,u)):n=setTimeout(l,this.options.awaitWriteFinish.pollInterval,u)})};this._pendingWrites.has(e)||(this._pendingWrites.set(e,{lastChange:a,cancelWait:()=>(this._pendingWrites.delete(e),clearTimeout(n),s)}),n=setTimeout(l,this.options.awaitWriteFinish.pollInterval))}_getGlobIgnored(){return[...this._ignoredPaths.values()]}_isIgnored(e,r){if(this.options.atomic&&ja.test(e))return!0;if(!this._userIgnored){let{cwd:s}=this.options,i=this.options.ignored,n=i&&i.map(Li(s)),o=ur(n).filter(l=>typeof l===lr&&!tr(l)).map(l=>l+or),a=this._getGlobIgnored().map(Li(s)).concat(n,o);this._userIgnored=er(a,void 0,ar)}return this._userIgnored([e,r])}_isntIgnored(e,r){return!this._isIgnored(e,r)}_getWatchHelpers(e,r){let s=r||this.options.disableGlobbing||!tr(e)?e:Oa(e),i=this.options.followSymlinks;return new Fi(e,s,i,this)}_getWatchedDir(e){this._boundRemove||(this._boundRemove=this._remove.bind(this));let r=k.resolve(e);return this._watched.has(r)||this._watched.set(r,new Oi(r,this._boundRemove)),this._watched.get(r)}_hasReadPermissions(e){if(this.options.ignorePermissionErrors)return!0;let r=e&&Number.parseInt(e.mode,10),s=r&511,i=Number.parseInt(s.toString(8)[0],10);return Boolean(4&i)}_remove(e,r,s){let i=k.join(e,r),n=k.resolve(i);if(s=s!=null?s:this._watched.has(i)||this._watched.has(n),!this._throttle("remove",i,100))return;!s&&!this.options.useFsEvents&&this._watched.size===1&&this.add(e,r,!0);let o=this._getWatchedDir(i),a=o.getChildren();a.forEach(c=>this._remove(i,c));let l=this._getWatchedDir(e),h=l.has(r);l.remove(r);let f=i;if(this.options.cwd&&(f=k.relative(this.options.cwd,i)),this.options.awaitWriteFinish&&this._pendingWrites.has(f)){let c=this._pendingWrites.get(f).cancelWait();if(c===ht)return}this._watched.delete(i),this._watched.delete(n);let u=s?Da:Ai;h&&!this._isIgnored(i)&&this._emit(u,i),this.options.useFsEvents||this._closePath(i)}_closePath(e){this._closeFile(e);let r=k.dirname(e);this._getWatchedDir(r).remove(k.basename(e))}_closeFile(e){let r=this._closers.get(e);if(!r)return;r.forEach(s=>s()),this._closers.delete(e)}_addPathCloser(e,r){if(!r)return;let s=this._closers.get(e);s||(s=[],this._closers.set(e,s)),s.push(r)}_readdirp(e,r){if(this.closed)return;let s={type:rr,alwaysStat:!0,lstat:!0,...r},i=La(e,s);return this._streams.add(i),i.once(Wa,()=>{i=void 0}),i.once(Ba,()=>{i&&(this._streams.delete(i),i=void 0)}),i}};Zt.FSWatcher=fr;var nl=(t,e)=>{let r=new fr(e);return r.add(t),r};Zt.watch=nl});dr(exports,{initModule:()=>ol,watch:()=>ll,watchFiles:()=>al});var hr=$(require("path")),se=$(require("fs")),le=$(require("path")),vr=$(require("crypto")),me=$(require("fs"));function gr(t,e){let r=0;if(e===!0){let s=process.env.TERM||"";r=s&&["xterm","screen","vt100"].some(i=>s.indexOf(i)!=-1)?s.indexOf("256color")!=-1?8:4:2}else e!==!1&&t.isTTY&&(r=t.getColorDepth());return r}function _r(t,e){return mr(gr(t,e),e)}function mr(t,e){let r=n=>`[${n}m`,s=t>0||e?(n,o)=>{let a=r(n),l=r(o);return h=>a+h+l}:n=>o=>o,i=t>=8?(n,o,a)=>{let l="["+o+"m",h="["+a+"m";return f=>l+f+h}:t>0?(n,o,a)=>{let l="["+n+"m",h="["+a+"m";return f=>l+f+h}:(n,o,a)=>l=>l;return{_hint:e,ncolors:t,reset:e||t>0?"e[0m":"",bold:s("1","22"),italic:s("3","23"),underline:s("4","24"),inverse:s("7","27"),white:i("37","38;2;255;255;255","39"),grey:i("90","38;5;244","39"),black:i("30","38;5;16","39"),blue:i("34","38;5;75","39"),cyan:i("36","38;5;87","39"),green:i("32","38;5;84","39"),magenta:i("35","38;5;213","39"),purple:i("35","38;5;141","39"),pink:i("35","38;5;211","39"),red:i("31","38;2;255;110;80","39"),yellow:i("33","38;5;227","39"),lightyellow:i("93","38;5;229","39"),orange:i("33","38;5;215","39"),reconfigure(n,o){let a=gr(n,o);return a!=this.ncolors&&o!=this._hint&&Object.assign(this,mr(a,o)),this}}}var stdoutStyle=_r(process.stdout),gt=_r(process.stderr),ze=$(be()),wr=String.fromCharCode,qi=(t,e)=>t.charCodeAt(e||0);function br(t,e){return new Promise((r,s)=>{if(typeof e=="number")return me.chmod(t,e,i=>{i?s(i):r(e)});me.stat(t,(i,n)=>{if(i)return s(i);let o=mt(n.mode,e);if(n.mode==o)return r(o);me.chmod(t,o,a=>{a?s(a):r(o)})})})}function mt(t,e){let r="Expected format: [ugoa]*[+-=][rwx]+",s=(n,o)=>new Error(`${n} in modifier ${ze.json(o)}. ${r}`),i=[];for(let n of Array.isArray(e)?e:[e])i=i.concat(n.trim().split(/\s*,+\s*/));for(let n of i){let o=[],a=!1,l=0,h=0;for(let u=0;u<n.length;u++){let c=qi(n,u);if(l==0)switch(c){case 117:case 103:case 111:a||o.push(c);break;case 97:o=[117,103,111],a=!0;break;case 43:case 45:case 61:l=c;break;default:if(l==0)throw s(`Invalid target or operation ${ze.json(wr(c))}`,n);break}else switch(c){case 114:h|=4;break;case 119:h|=2;break;case 120:h|=1;break;default:throw s(`Invalid permission ${ze.json(wr(c))}`,n)}}if(l==0)throw s("Missing operation",n);o.length==0&&(o=[117]),h==0&&(h=4|2|1);let f=0;for(let u of o)switch(u){case 117:f|=h<<6;break;case 103:f|=h<<3;break;case 111:f|=h;break}switch(l){case 43:t|=f;break;case 45:t&=~f;break;case 61:t=f;break}}return t}var Pe=$(be()),Tr=$(require("console")),z=$(require("path")),Ki=$(be()),_t=(()=>{let t=process.env._,e=process.argv[1];if(!e)return t||process.argv[0];if(t&&!z.isAbsolute(t))return t;let r="";if(t){let s=z.basename(process.execPath);t.endsWith(z.sep+s)&&(r=s+" ")}if(e.startsWith(process.cwd())){let s=z.relative(process.cwd(),e);if(!s.startsWith("node_modules"+z.sep)&&s.indexOf(z.sep+"node_modules"+z.sep)==-1)return z.sep=="/"&&(s="./"+s),s}return r+z.basename(e)})(),Rr=$(require("path")),xr=$(be()),Yi=__dirname;function Ar(t){let e=null;return function(){return e||(K.debug(`loading ${t} module`),e=xr.runtimeRequire(Rr.join(Yi,t)),e.initModule(K.level)),e}}var Et=Ar("debug.js"),_l=Ar("watch.js"),zi=class extends Error{constructor(e){super(e);this.name="UserError"}};function Sr(t,e){return Et().printErrorAndExit(t,e)}function Cr(t,e){Error.prepareStackTrace=void 0;try{if(Et().installSourceMapSupport(),Error.prepareStackTrace!==Cr)return Error.prepareStackTrace(t,e)}catch(r){}return t.stack||String(t)}Error.prepareStackTrace=Cr;process.on("uncaughtException",Sr);process.on("unhandledRejection",(t,e)=>{Sr(t||"PromiseRejection","unhandledRejection")});var Z;(function(t){t[t.Silent=-1]="Silent",t[t.Error=0]="Error",t[t.Warn=1]="Warn",t[t.Info=2]="Info",t[t.Debug=3]="Debug"})(Z||(Z={}));var Re=console,yt,K=new class{constructor(){this.SILENT=-1;this.ERROR=0;this.WARN=1;this.INFO=2;this.DEBUG=3;this.level=2;this.infoOnce=this.info;this.debug=Vi}error(...e){K.level>=0&&(Ve(e),Re.error(gt.red(`${_t}:`),...e))}warn(...e){K.level>=1&&(Ve(e),Re.error(gt.magenta(`${_t}:`),...e))}info(...e){K.level>=2&&(Ve(e),Re.log(...e))}get colorMode(){return yt}set colorMode(e){if(yt===e)return;yt=e,e===void 0?Re=console:Re=new Tr.Console({stdout:process.stdout,stderr:process.stderr,colorMode:e})}},J=K;function Ve(t){typeof t[0]=="function"&&(t[0]=t[0]())}function Vi(...t){if(K.level>=3){let e="";if(Ve(t),t.length==0||t.length==1&&(t[0]===""||t[0]===void 0))return;Re.log(stdoutStyle.bold(stdoutStyle.blue(`[DEBUG${e}]`)),...t)}}var ie=se.promises,Pr={};function xe(t){Pr[le.resolve(String(t))]=Pe.clock()}function kr(t){let e=3e4,r=Pr[le.resolve(t)];return r!==void 0&&Pe.clock()-r<=e}function j(t,e){return ie.readFile(t,e)}j.editMode=mt;j.chmod=(t,e)=>(xe(t),br(t,e));function Qi(t,e){return ie.readFile(t,e)}j.read=Qi;function Xi(t,e){return se.readFileSync(t,e)}j.readSync=Xi;j.stat=ie.stat;function Zi(...t){return Promise.all(t.map(e=>ie.stat(e).then(r=>r.mtimeMs).catch(r=>null))).then(e=>e.length==1?e[0]:e)}j.mtime=Zi;j.readall=(...t)=>Promise.all(t.map(e=>ie.readFile(e)));j.readallText=(t,...e)=>Promise.all(e.map(r=>ie.readFile(r,{encoding:t||"utf8"})));j.write=async(t,e,r)=>{xe(t);let s=r&&typeof r=="object"?r:{};try{await ie.writeFile(t,e,r)}catch(i){if(!s.mkdirOff&&i.code=="ENOENT")await j.mkdirs(le.dirname(String(t)),s.mkdirMode),await ie.writeFile(t,e,r);else throw i}if(s.log){let i=le.relative(process.cwd(),String(t));i.startsWith(".."+le.sep)&&(i=Pe.tildePath(t)),J.info(stdoutStyle.green(`Wrote ${i}`))}};j.writeSync=(t,e,r)=>{se.writeFileSync(t,e,r)};function Ji(t,e){return new Promise((r,s)=>{let i=se.createReadStream(t),n=vr.createHash("sha1");i.on("error",s),i.on("end",()=>{n.end(),r(e?n.digest(e):n.digest())}),i.pipe(n)})}j.sha1=Ji;j.copy=(t,e,r)=>{let s=se.constants.COPYFILE_FICLONE;return r&&(s|=se.constants.COPYFILE_EXCL),xe(e),ie.copyFile(t,e,s)};j.move=(t,e)=>(xe(e),ie.rename(t,e));j.mkdirs=(t,e)=>ie.mkdir(t,{recursive:!0,mode:e}).then(r=>!!r&&r.length>0);var Ge=$(require("path")),Ni=$(Hi()),we=$(be()),pt=class{constructor(e){this.basedir="";this._resolve=(e,r)=>{};this._cancelled=!1;this._watcher=null;this._fileset=new Set;this.options=e,this.promise=new Promise(r=>{this._resolve=r}),this.promise.cancel=()=>{this._cancelled=!0}}setFiles(e){let r=new Set(e);if(!this._watcher){this._fileset=r,this._start();return}let s=[];for(let n of this._fileset)r.has(n)||s.push(n);let i=[];for(let n of r)this._fileset.has(n)||i.push(n);this._fileset=r,s.length>0&&(J.debug(()=>`fswatch stop watching files ${this._relnames(s)}`),this._watcher.unwatch(s)),i.length>0&&(J.debug(()=>`fswatch start watching files ${this._relnames(i)}`),this._watcher.add(i))}close(){return this._watcher?(J.debug(()=>"fswatch closing"),this._watcher.close().then(()=>this._resolve()).catch(e=>this._resolve(void 0,e)),this._watcher=null,this.promise):Promise.resolve()}_relnames(e){return e.length==1?this._relname(e[0]):e.map(r=>`
  `+this._relname(r)).join("")}_relname(e){return this.basedir?Ge.relative(this.basedir,e):Ge.relative(process.cwd(),e)}_start(){if(this._cancelled)return;let e=Array.from(this._fileset);if(e.length==0)return;this.basedir&&(this.basedir=Ge.resolve(this.basedir));let r=50,s=null,i={...this.options};typeof i.latency=="number"&&(r=i.latency,delete i.latency),i.filter&&(s=i.filter,delete i.filter);let n={disableGlobbing:!0,followSymlinks:!1,awaitWriteFinish:{stabilityThreshold:20,pollInterval:100},...i,persistent:!0,ignoreInitial:!0},o=new Set,a=null,l=()=>{a=null;let u=this.onChange?this.onChange(Array.from(o)):null;o.clear(),u instanceof Promise&&(u.then(()=>{a=null,o.size>0&&l()}).catch(c=>{this.promise.cancel(c)}),a=1)},h=(u,c)=>{if(kr(c)){J.debug(()=>`fswatch ignoring self-originating event ${u} ${c}`);return}if(s&&!s.test(c)){J.debug(()=>`fswatch ignoring ${u} ${c} (filter)`);return}J.debug(()=>`fsevent ${u} ${we.repr(c)}`),o.add(c),a===null&&(a=setTimeout(l,r))};this.promise.cancel=u=>{J.debug("fswatcher is being cancelled"),clearTimeout(a),this._cancelled||(this._cancelled=!0,this.close()),u&&this._resolve(void 0,u)};let f=we.clock();this._watcher=Ni.watch(e,n).on("all",h).on("error",u=>J.warn(`fswatch ${u}`)).on("ready",()=>{J.debug(()=>`fswatch initial scan complete (${we.fmtDuration(we.clock()-f)})`),this.onStart&&this.onStart()})}};function ol(t){K.level=t}var Ii=new Map;async function al(t,e,r,s){let i=t.projectID,n=Ii.get(i);if(!n){let a=t.watch&&typeof t.watch=="object"?t.watch:{};n=new pt(a),Ii.set(i,n),n.basedir=t.cwd,n.onChange=l=>{s(l).then(o)},r.addCancelCallback(()=>{n.promise.cancel()}),K.debug(`fswatch started for project#${i}`)}function o(){let a=e();if(!a||!a.inputs)return;let l=Object.keys(a.inputs),h=a.outputs||{},f="node_modules"+hr.sep,u=hr.sep+f,c=_=>_.startsWith(f)||_.includes(u);if(K.level>=K.DEBUG){let _=l.filter(w=>!c(w)).slice(0,10);K.debug(`fswatch updating source files: esbuild reported ${l.length} inputs:`+_.map(w=>`
  ${w}`).join("")+(_.length<l.length?`
  ... ${l.length-_.length} more`:""))}for(let _ of Object.keys(h))xe(_);let y=[];for(let _ of l){if(_ in h)continue;if(l.length>100&&c(_))continue;y.push(_)}n.setFiles(y)}return o(),n.promise}function ll(t,e,r){r||(r=e,e={});let s=new pt({persistent:!0,ignoreInitial:!0,ignored:/(^|[\/\\])\../,disableGlobbing:!0,followSymlinks:!1,...e||{}});return s.basedir=process.cwd(),s.onChange=r,s.setFiles(typeof t=="string"?[t]:t),s.promise}
//# sourceMappingURL=watch.js.map
